"use strict";(self["webpackChunkjuridico_frontend"]=self["webpackChunkjuridico_frontend"]||[]).push([[731],{9143:function(a,t,e){e.d(t,{Z:function(){return d}});var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{attrs:{id:"modal-excluir",title:"Excluir","hide-footer":""}},[e("p",{staticClass:"my-4"},[a._v("Deseja excluir "+a._s(a.pergunta)+"?")]),e("b-button",{staticClass:"mr-2",on:{click:function(t){return a.$bvModal.hide("modal-excluir")}}},[a._v("Fechar")]),a._t("buttons")],2)],1)},s=[],i=e(8935),r=i["default"].extend({props:["pergunta"],methods:{}}),n=r,c=e(1001),l=(0,c.Z)(n,o,s,!1,null,null,null),d=l.exports},5828:function(a,t,e){e.r(t),e.d(t,{default:function(){return ua}});var o=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"container fluid"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-12",staticStyle:{"margin-top":"20px"}},[e("b-form-group",{staticClass:"titulo m-0",attrs:{label:"Consulta de Processos","label-size":"lg"}},[e("hr")])],1)]),e("notifications",{attrs:{notifications:a.Notificacao}}),a.alert?e("div",[e("ReturnMessage",{attrs:{message:a.Message,fechaAlert:a.fechaAlert}})],1):a._e(),a.loading?e("div",[e("LoadingSpinner")],1):a._e(),e("b-form",{on:{submit:function(t){return t.preventDefault(),a.search.apply(null,arguments)}}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-10"},[e("div",{staticClass:"row"},[e("b-form-group",{staticClass:"font col-sm-4 col-md-4 col-lg-4",attrs:{append:"m"}},[e("b-form-checkbox",{staticClass:"font",attrs:{switch:""},on:{change:a.alterarProced},model:{value:a.checkedProcessoSiged,callback:function(t){a.checkedProcessoSiged=t},expression:"checkedProcessoSiged"}},[a.checkedProcessoSiged?e("label",[a._v("Nº Procedimento:")]):e("label",[a._v("Nº SIGED:")])]),e("b-form-input",{directives:[{name:"show",rawName:"v-show",value:a.checkedProcessoSiged,expression:"checkedProcessoSiged"}],attrs:{size:"md",type:"text",autofocus:""},model:{value:a.form.numProcedimento,callback:function(t){a.$set(a.form,"numProcedimento",t)},expression:"form.numProcedimento"}}),e("b-form-input",{directives:[{name:"show",rawName:"v-show",value:!a.checkedProcessoSiged,expression:"!checkedProcessoSiged"},{name:"mask",rawName:"v-mask",value:"##.##.######.######/####-##",expression:"'##.##.######.######/####-##'"}],attrs:{size:"md",type:"text",autofocus:""},model:{value:a.form.numProcessoSIGED,callback:function(t){a.$set(a.form,"numProcessoSIGED",t)},expression:"form.numProcessoSIGED"}})],1),e("b-form-group",{staticClass:"font col-sm-5 col-md-5 col-lg-5",attrs:{label:"Assunto:",append:"m"}},[e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsAssunto,label:"desc_assunto",value:"id_assunto",placeholder:"--Selecione--"},model:{value:a.assuntoSelecionado,callback:function(t){a.assuntoSelecionado=t},expression:"assuntoSelecionado"}})],1),e("b-form-group",{staticClass:"font col-sm-3 col-md-3 col-lg-3",attrs:{label:"Status Processo:",append:"m"}},[e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsStatusProcesso,label:"desc_status",value:"id_status"},model:{value:a.statusProcessoSelecionado,callback:function(t){a.statusProcessoSelecionado=t},expression:"statusProcessoSelecionado"}})],1)],1)]),e("div",{staticClass:"col-2 justify-content-center"},[e("b-form-group",{staticClass:"font text-white",attrs:{label:"Consultar"}},[e("b-button",{staticClass:"h2",attrs:{type:"submit"}},[e("b-icon-search",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Consultar",expression:"'Consultar'",modifiers:{hover:!0,topleft:!0}}]})],1)],1)],1)]),e("div",{staticClass:"row",attrs:{"align-h":"between"}},[e("div",{staticClass:"col-11 mb-3"},[e("b-form-checkbox",{staticClass:"font text-end",attrs:{switch:""},on:{change:function(t){return a.exibeMaisDetalhes()}},model:{value:a.maisDetalhes,callback:function(t){a.maisDetalhes=t},expression:"maisDetalhes"}},[a._v(" + Filtros ")])],1)]),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:a.exibirMaisDetalhes,expression:"exibirMaisDetalhes"}],staticClass:"font col-sm-3 col-md-3 col-lg-3",attrs:{label:"Órgão Demandante:",append:"m"}},[e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsOrgaoDemandante,label:"orgao_demandante",value:"id_orgao",placeholder:"--Selecione--"},model:{value:a.orgaoDemandanteSelecionado,callback:function(t){a.orgaoDemandanteSelecionado=t},expression:"orgaoDemandanteSelecionado"}})],1),e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:a.exibirMaisDetalhes,expression:"exibirMaisDetalhes"}],staticClass:"font col-sm-3 col-md-3 col-lg-3",attrs:{label:"Tipo do Processo:",append:"m"}},[e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsTipoProcesso,label:"desc_tipoprocesso",value:"id_tipoprocesso",placeholder:"--Selecione--"},model:{value:a.tipoProcessoSelecionado,callback:function(t){a.tipoProcessoSelecionado=t},expression:"tipoProcessoSelecionado"}})],1),e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:a.exibirMaisDetalhes,expression:"exibirMaisDetalhes"}],staticClass:"font col-sm-3 col-md-3 col-lg-3",attrs:{append:"m"}},[e("label",[a._v("Status Prazo:")]),a.checkedExpiraHoje?a._e():e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsStatusPrazo,label:"desc_status",value:"id_status"},model:{value:a.statusPrazoSelecionado,callback:function(t){a.statusPrazoSelecionado=t},expression:"statusPrazoSelecionado"}})],1),e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:a.exibirMaisDetalhes,expression:"exibirMaisDetalhes"}],staticClass:"font col-sm-3 col-md-3 col-lg-3",attrs:{label:"Classificação:",append:"m"}},[e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsClassificacao,label:"desc_classificacao",value:"id_classificacao",placeholder:"--Selecione--"},model:{value:a.classificacaoSelecionada,callback:function(t){a.classificacaoSelecionada=t},expression:"classificacaoSelecionada"}})],1),e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:a.exibirMaisDetalhes,expression:"exibirMaisDetalhes"}],staticClass:"font col-sm-3 col-md-3 col-lg-3",attrs:{label:"Responsável:",append:"m"}},[e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsResponsavel,label:"nome_responsavel",value:"id_responsavel",placeholder:"--Selecione--"},model:{value:a.responsavelSelecionado,callback:function(t){a.responsavelSelecionado=t},expression:"responsavelSelecionado"}})],1),e("b-form-group",{directives:[{name:"show",rawName:"v-show",value:a.exibirMaisDetalhes,expression:"exibirMaisDetalhes"}],staticClass:"font col-sm-9 col-md-9 col-lg-9",attrs:{label:"Caixa SIGED:",append:"m"}},[e("v-select",{staticClass:"font",staticStyle:{"font-size":"0.85rem"},attrs:{options:a.optionsCaixa,label:"caixa_atual_siged",id:"caixa_atual_siged"},model:{value:a.caixaSigedSelecionada,callback:function(t){a.caixaSigedSelecionada=t},expression:"caixaSigedSelecionada"}})],1)],1)])])]),e("div",{staticClass:"card p-0 m-0"},[e("div",{staticClass:"card-header",attrs:{align:"right"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-1 text-blue h2 p0m0",attrs:{align:"center",label:"Processos Cadastrados"}},[e("b-icon-journal-text")],1),a._m(0),e("div",{staticClass:"col-1 position-relative",attrs:{align:"center"}},[e("b-form-group",{staticClass:"btn text-primary position-absolute top-50 start-50 translate-middle",attrs:{label:""}},[e("div",{staticClass:"h3"},[e("b-icon-plus-circle",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-cadastro-processo",modifiers:{"modal-cadastro-processo":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Adicionar Processo",expression:"'Adicionar Processo'",modifiers:{hover:!0,topleft:!0}}]})],1)])],1)])]),e("div",[e("b-table-lite",{staticClass:"m-0",attrs:{small:"",striped:"",hover:"","head-variant":"dark","current-page":a.currentPage,"per-page":a.perPage,items:a.items,fields:a.fields},scopedSlots:a._u([{key:"cell(status.desc_status)",fn:function(t){return[e("b-badge",{attrs:{variant:a.colorStatusProcesso(t.item.status.id_status)}},[a._v(" "+a._s(t.item.status.desc_status))])]}},{key:"cell(diasAExpirar)",fn:function(t){return[e("b-badge",{attrs:{variant:a.colorDiasRestantes(t.item.dia_limite_prazo)}},[a._v(" "+a._s(a.calcularDiasAExpirarDesc(t.item.dia_limite_prazo))+" ")])]}},{key:"cell(reiteracoes)",fn:function(t){return[e("b-badge",{attrs:{variant:a.colorReiteracao(t.item._count.Reiteracao)}},[a._v(" "+a._s(t.item._count.Reiteracao)+" ")])]}},{key:"cell(botaoAction)",fn:function(t){return[e("b-dropdown",{staticClass:"p0m0",attrs:{variant:"dark",size:"sm","data-toggle":"dropdown"},scopedSlots:a._u([{key:"button-content",fn:function(){return[a._v(" ≡"),e("span",{staticClass:"sr-only"})]},proxy:!0}],null,!0)},["14"!=t.item.status.id_status?e("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(e){return a.abrirModal("modal-editar-processo",t.item.id_processo)},listarProcesso:function(t){return a.listarProcesso(a.currentPage)}}},[a._v(" Editar ")]):a._e(),e("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(e){return a.abrirModal("modal-visualizar-processo",t.item.id_processo)}}},[a._v(" Visualizar ")]),"14"!=t.item.status.id_status?e("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{listarProcesso:function(t){return a.listarProcesso(a.currentPage)},click:function(e){return a.abrirModal("modal-andamento-processo",t.item.id_processo)}}},[a._v(" Alterar Situação ")]):a._e(),e("b-list-group-item",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-tramitacoes-processo",modifiers:{"modal-tramitacoes-processo":!0}}],staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{listarProcesso:function(t){return a.listarProcesso(a.currentPage)}}},[a._v(" Tramitações ")]),"14"==t.item.status.id_status?e("b-list-group-item",{staticClass:"btn-light text-dark btn-outline-danger m-0 p-1",attrs:{block:""},on:{click:function(e){return a.abrirModal("modal-mensagem",t.item.id_processo,t.item.num_procedimento)},listarProcesso:function(t){return a.listarProcesso(a.currentPage)}}},[a._v(" Desarquivar ")]):a._e(),"10"==t.item.status.id_status?e("b-list-group-item",{staticClass:"btn-light text-dark btn-outline-danger m-0 p-1",attrs:{block:""},on:{click:function(e){return a.abrirModal("modal-excluir",t.item.id_processo,t.item.num_procedimento)},listarProcesso:function(t){return a.listarProcesso(a.currentPage)}}},[a._v(" Excluir ")]):a._e()],1)]}}])}),a.items?a._e():e("div",{staticClass:"m-3 text-center"},[e("label",[a._v("Nenhum registro encontrado.")])])],1),e("div",{staticClass:"card-footer m-0 px-1 pt-1"},[e("div",{staticClass:"col-12 m-0 px-1 pt-1"},[e("b-pagination",{directives:[{name:"show",rawName:"v-show",value:a.totalRows,expression:"totalRows"}],attrs:{pills:"",align:"right",size:"sm","total-rows":a.totalRows,"per-page":a.perPage},on:{change:a.listarProcesso},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)]),e("div",[a._v("  "),e("b",[a._v("Total Registros:")]),a._v(" "+a._s(a.totalRows))])]),e("b-modal",{attrs:{id:"modal-cadastro-processo",size:"lg",centered:"",title:"Cadastro do Processo","hide-footer":""}},[e("ModalDetalhesProcesso",{attrs:{tipo:"cadastrar"},on:{listarProcesso:function(t){return a.listarProcesso(a.currentPage)}},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-cadastro-processo")}}},[a._v("Fechar")])]},proxy:!0}])})],1),e("b-modal",{attrs:{id:"modal-editar-processo",size:"lg",centered:"",title:a.titleModal||"Editar Processo","hide-footer":""}},[e("ModalDetalhesProcesso",{attrs:{tipo:"editar",idProcesso:a.idProcessoModal},on:{alterarTitulo:a.alterarTitulo,listarProcesso:function(t){return a.listarProcesso(a.currentPage)}},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-editar-processo")}}},[a._v("Fechar")])]},proxy:!0}])})],1),e("b-modal",{attrs:{id:"modal-visualizar-processo",size:"lg",centered:"",title:"Visualizar Processo","hide-footer":""}},[e("ModalDetalhesProcesso",{attrs:{tipo:"visualizar",idProcesso:a.idProcessoModal},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-visualizar-processo")}}},[a._v("Fechar")])]},proxy:!0}])})],1),e("b-modal",{attrs:{id:"modal-andamento-processo",centered:"",title:"Alterar Situação do Processo","hide-footer":""}},[e("ModalAndamentoProcesso",{attrs:{idProcesso:a.idProcessoModal},on:{listarProcesso:function(t){return a.listarProcesso(a.currentPage)}},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-andamento-processo")}}},[a._v("Fechar")])]},proxy:!0}])})],1),e("b-modal",{attrs:{id:"modal-tramitacoes-processo",size:"lg",centered:"",title:"Tramitações do Processo","hide-footer":""}},[e("ModalTramitacoesProcesso")],1),e("ModalExcluir",{attrs:{pergunta:"o processo "+a.numProcedimentoModal},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",attrs:{variant:"danger"},on:{click:function(t){return a.excluir(a.idProcessoModal)}}},[a._v("Excluir")])]},proxy:!0}])}),e("ModalMensagem",{attrs:{title:"Desarquivar processo",pergunta:"Deseja realmente desarquivar o processo "+a.numProcedimentoModal+"?"},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",attrs:{variant:"danger"},on:{click:function(t){return a.desarquivar(a.idProcessoModal)}}},[a._v("Desarquivar")])]},proxy:!0}])})],1)},s=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"col-10 mt-1",attrs:{align:"start"}},[e("div",{staticClass:"row position-relative"},[e("h5",[a._v("Processos Cadastrados")])])])}],i=(e(1539),e(9714),e(8862),e(8935)),r=e(784),n=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"card p-0 m-0"},[e("div",{staticClass:"card-header",attrs:{align:"right"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-1 text-blue h2 p0m0",attrs:{align:"center",label:"Tramitações do Processo"}},[e("b-icon-journal-text")],1),a._m(0)])]),e("div",[e("b-table-lite",{staticClass:"m-0",attrs:{small:"",striped:"",hover:"",responsive:"","head-variant":"dark","current-page":a.currentPage,"per-page":a.perPage,"sticky-header":a.stickyHeader,"no-border-collapse":a.noCollapse,items:a.items,fields:a.fields}})],1),e("div",{staticClass:"card-footer m-0 px-1 pt-1"},[e("div",{staticClass:"col-12 m-0 px-1 pt-1"},[e("b-pagination",{attrs:{pills:"",align:"right",size:"sm","total-rows":a.rows,"per-page":a.perPage},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)]),e("div",{staticClass:"py-2 mt-10 mr-3",attrs:{align:"right"}},[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-tramitacoes-processo")}}},[a._v("Fechar")])],1)])},c=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"col-10 mt-1",attrs:{align:"start"}},[e("div",{staticClass:"row position-relative"},[e("h5",[a._v("123456/7890-12")])])])}],l=e(8161),d=e(9728),u=e(7054),m=[{key:"caixaSIGED",label:"Caixa SIGED",sortable:!0},{key:"eventoTramitacao",label:"Evento Tramitação",sortable:!0},{key:"entradaSetor",label:"Entrada no Setor",sortable:!0},{key:"permanencia",label:"Permanência",sortable:!0}],f=[{isActive:!0,caixaSIGED:"JURÍDICO",eventoTramitacao:"Para Assinatura",entradaSetor:"03/06/2022",permanencia:"0"},{isActive:!0,caixaSIGED:"CONTRATOS",eventoTramitacao:"Aguardar Pagamento",entradaSetor:"01/06/2022",permanencia:"2"},{isActive:!0,caixaSIGED:"COMPRAS",eventoTramitacao:"Tramitando",entradaSetor:"28/05/2022",permanencia:"4"},{isActive:!0,caixaSIGED:"DETIN",eventoTramitacao:"Conhecimento e Providências",entradaSetor:"26/05/2022",permanencia:"2"},{isActive:!0,caixaSIGED:"RECURSOS HUMANOS",eventoTramitacao:"Validar Registro",entradaSetor:"20/05/2022",permanencia:"6"},{isActive:!0,caixaSIGED:"DIREÇÃO",eventoTramitacao:"Conhecimento e Providências",entradaSetor:"16/05/2022",permanencia:"4"},{isActive:!0,caixaSIGED:"JURÍDICO",eventoTramitacao:"Para Assinatura Digital",entradaSetor:"16/05/2022",permanencia:"0"},{isActive:!0,caixaSIGED:"PROTOCOLO",eventoTramitacao:"Tramitando",entradaSetor:"15/05/2022",permanencia:"1"}],p=i["default"].extend({directives:{mask:l.mask},data:function(){return{rows:100,currentPage:1,stickyHeader:!0,noCollapse:!0,totalRows:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],fields:m,items:f}},methods:{},components:{HeaderPage:r.Z,BIconSearch:u.Lln,BIconJournalText:u.kEx,BIconPlusCircle:u.HON,BIconInfoCircle:u.gjx,Notifications:d.Z}}),h=p,g=e(1001),v=(0,g.Z)(h,n,c,!1,null,null,null),b=v.exports,P=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"col-12"},[e("b-form",{on:{submit:function(t){return t.preventDefault(),a.submit.apply(null,arguments)}}},[e("notifications",{attrs:{notifications:a.Notificacao}}),a.alert?e("div",[e("ReturnMessage",{attrs:{message:a.Message,fechaAlert:a.fechaAlert}})],1):a._e(),a.loading?e("div",[e("LoadingSpinner")],1):a._e(),e("div",{directives:[{name:"show",rawName:"v-show",value:!a.isLoading,expression:"!isLoading"}]},[e("b-tabs",{attrs:{"content-class":"mt-3"}},[e("b-tab",{attrs:{title:"Processo",active:""}},[e("div",{staticClass:"py-2 mt-10",attrs:{align:"right"}},[a.formDados.disabledAll||"editar"!=a.tipo||a.opcaoDuplicar?a._e():e("b-button",{staticClass:"bordered ml-2 mr-2 btn-sm",attrs:{type:"button",variant:"primary"},on:{click:function(t){return a.duplicar()}}},[a._v("Duplicar")])],1),e("detalhes-processo",{ref:"formDetalhes"}),e("div",{staticClass:"py-2 mt-10",attrs:{align:"right"}},[a._t("buttons"),a.formDados.disabledAll?a._e():e("b-button",{staticClass:"bordered ml-2",attrs:{type:"submit",variant:"success"}},[a._v("Salvar")])],2)],1),a.idProcesso&&!a.opcaoDuplicar?e("b-tab",{attrs:{title:"Reiteração"}},[e("reiteracoes",{attrs:{idProcesso:a.idProcesso,tipo:a.tipo}})],1):a._e()],1)],1)],1)],1)])},_=[],S=(e(9653),e(4753)),D=e(3126),x={methods:{statusPrazo:function(a){return a<0?9:a>=0&&a<=3?1:a>=4&&a<=5?2:a>=6?3:""}}},C=x,R=e(6038),k=e(3403),A=e(3248),y=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"card p-0 mt-10"},[e("notifications",{attrs:{notifications:a.Notificacao}}),a.alert?e("div",[e("ReturnMessage",{attrs:{message:a.Message,fechaAlert:a.fechaAlert}})],1):a._e(),a.loading?e("div",[e("LoadingSpinner")],1):a._e(),e("div",{staticClass:"card-header",attrs:{align:"right"}},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-1 text-blue h2 p0m0",attrs:{align:"center",label:"Reiterações"}},[e("b-icon-journal-text")],1),a._m(0),"visualizar"!=a.tipo?e("div",{attrs:{align:"center"}},[e("b-form-group",{staticClass:"btn text-primary position-absolute",attrs:{label:""}},[e("div",{staticClass:"h3"},[e("b-icon-plus-circle",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-cadastro-reiteracao",modifiers:{"modal-cadastro-reiteracao":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Adicionar Reiteração",expression:"'Adicionar Reiteração'",modifiers:{hover:!0,topleft:!0}}]})],1)])],1):a._e()])]),e("div",[e("b-table-lite",{staticClass:"m-0",attrs:{small:"",striped:"",hover:"","head-variant":"dark","current-page":a.currentPage,"per-page":a.perPage,"no-border-collapse":a.noCollapse,items:a.items,fields:a.fields},scopedSlots:a._u([{key:"cell(data_processo)",fn:function(t){return[a._v(" "+a._s(t.item.data_processo?a.formatarDataBr(t.item.data_processo):"")+" ")]}},{key:"cell(botaoAction)",fn:function(t){return[e("b-dropdown",{staticClass:"p0m0",attrs:{variant:"dark",size:"sm"},scopedSlots:a._u([{key:"button-content",fn:function(){return[a._v(" ≡"),e("span",{staticClass:"sr-only"})]},proxy:!0}],null,!0)},["visualizar"!=a.tipo?e("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:"",tipo:"editar"},on:{click:function(e){return a.abrirModal("modal-editar-reiteracao",t.item.id_reiteracao)}}},[a._v(" Editar ")]):a._e(),e("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:"",tipo:"visualizar"},on:{click:function(e){return a.abrirModal("modal-visualizar-reiteracao",t.item.id_reiteracao)}}},[a._v(" Visualizar ")]),"visualizar"!=a.tipo?e("b-list-group-item",{staticClass:"btn-light text-dark btn-outline-danger m-0 p-1",attrs:{block:""},on:{click:function(e){return a.abrirModal("modal-excluir",t.item.id_reiteracao,t.item.num_procedimento)},listarReiteracoes:function(t){return a.listarReiteracoes(a.currentPage)}}},[a._v(" Excluir ")]):a._e()],1)]}}])}),0==a.items.length?e("div",{staticClass:"m-3 text-center"},[e("label",[a._v("Nenhum registro encontrado")])]):a._e()],1),e("div",{staticClass:"card-footer m-0 px-1 pt-1"},[e("div",{staticClass:"col-12 m-0 px-1 pt-1"},[e("b-pagination",{directives:[{name:"show",rawName:"v-show",value:a.totalRows,expression:"totalRows"}],attrs:{pills:"",align:"right",size:"sm","total-rows":a.totalRows,"per-page":a.perPage},on:{change:a.listarReiteracoes},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)]),e("div",{staticClass:"py-2 mt-10 mr-3",attrs:{align:"right"}},[e("b-button",{directives:[{name:"show",rawName:"v-show",value:"editar"==a.tipo,expression:"tipo=='editar'"}],staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-editar-processo")}}},[a._v("Fechar")]),e("b-button",{directives:[{name:"show",rawName:"v-show",value:"visualizar"==a.tipo,expression:"tipo=='visualizar'"}],staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-visualizar-processo")}}},[a._v("Fechar")])],1)],1),e("b-modal",{attrs:{id:"modal-cadastro-reiteracao",size:"lg",centered:"",title:"Cadastro - Reiterar Processo","hide-footer":""}},[e("ModalReiteracoes",{attrs:{idProcesso:a.idProcesso},on:{listarReiteracoes:function(t){return a.listarReiteracoes(a.currentPage)}},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-cadastro-reiteracao")}}},[a._v("Fechar")])]},proxy:!0}])})],1),e("b-modal",{attrs:{id:"modal-editar-reiteracao",size:"lg",centered:"",title:"Edição - Reiterar Processo","hide-footer":""}},[e("ModalReiteracoes",{attrs:{idProcesso:a.idProcesso,idReiteracao:a.idReiteracaoModal,tipo:"editar"},on:{listarReiteracoes:function(t){return a.listarReiteracoes(a.currentPage)}},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-editar-reiteracao")}}},[a._v("Fechar")])]},proxy:!0}])})],1),e("b-modal",{attrs:{id:"modal-visualizar-reiteracao",size:"lg",centered:"",title:"Reiterações do Processo","hide-footer":""}},[e("ModalReiteracoes",{attrs:{idProcesso:a.idProcesso,idReiteracao:a.idReiteracaoModal,tipo:"visualizar"},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-visualizar-reiteracao")}}},[a._v("Fechar")])]},proxy:!0}])})],1),e("ModalExcluir",{attrs:{pergunta:"o processo "+a.numProcedimentoModal},scopedSlots:a._u([{key:"buttons",fn:function(){return[e("b-button",{staticClass:"bordered",attrs:{variant:"danger"},on:{click:function(t){return a.excluir(a.idReiteracaoModal)}}},[a._v("Excluir")])]},proxy:!0}])})],1)},N=[function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",{staticClass:"col-10 mt-1",attrs:{align:"start"}},[e("div",{staticClass:"row position-relative"},[e("h5",[a._v("Reiterações")])])])}],M=(e(2222),[{key:"botaoAction",label:"Ações",sortable:!1},{key:"num_procedimento",label:"Nº Procedimento",sortable:!0},{key:"data_processo",label:"Data Processo",sortable:!0},{key:"numero_siged",label:"Processo SIGED",sortable:!0},{key:"prazo",label:"Prazo (Dias Úteis)",sortable:!0}]),w=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"card"},[e("div",{staticClass:"col-12"},[e("notifications",{attrs:{notifications:a.Notificacao}}),a.alert?e("div",[e("ReturnMessage",{attrs:{message:a.Message,fechaAlert:a.fechaAlert}})],1):a._e(),a.loading?e("div",[e("LoadingSpinner")],1):a._e(),e("b-form",{on:{submit:function(t){return t.preventDefault(),a.submit.apply(null,arguments)}}},[e("div",{staticStyle:{"background-color":"#e5e4e2"}},[e("div",{staticClass:"p-3"},[e("div",{staticClass:"row"},[e("b-form-group",{staticClass:"font col-sm-6 col-md-6 col-lg-6"},[e("label",[a._v("Nº Procedimento: "),e("span",{staticClass:"text-danger"},[a._v("*")])]),e("b-form-input",{attrs:{type:"text",required:"",placeholder:"Procedimento/Expediente",title:"Procedimento/Expediente",disabled:a.disabledAll},model:{value:a.form.numeroProcedimento,callback:function(t){a.$set(a.form,"numeroProcedimento",t)},expression:"form.numeroProcedimento"}})],1),e("b-form-group",{staticClass:"font col-sm-3 col-md-3 col-lg-3"},[e("label",[a._v("Data do Processo: "),e("span",{staticClass:"text-danger"},[a._v("*")])]),e("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"bordered margin-field",attrs:{type:"text",placeholder:"dd/mm/aaaa",disabled:a.disabledAll,required:""},model:{value:a.datas.dataProcessoBR,callback:function(t){a.$set(a.datas,"dataProcessoBR",t)},expression:"datas.dataProcessoBR"}})],1),e("b-form-group",{staticClass:"font col-sm-3 col-md-3 col-lg-3"},[e("label",[a._v("Prazo total: "),e("span",{staticClass:"text-danger"},[a._v("*")])]),e("b-form-input",{attrs:{type:"number",required:"",placeholder:"em dias úteis",disabled:a.disabledAll},model:{value:a.form.prazoProcesso,callback:function(t){a.$set(a.form,"prazoProcesso",t)},expression:"form.prazoProcesso"}})],1)],1),e("div",{staticClass:"row"},[e("b-form-group",{staticClass:"font col-sm-6 col-md-6 col-lg-6",attrs:{label:"Nº SIGED"}},[e("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:"##.##.######.######/####-##",expression:"'##.##.######.######/####-##'"}],attrs:{placeholder:"Nº SIGED",type:"text",disabled:a.disabledAll},model:{value:a.form.numeroSIGED,callback:function(t){a.$set(a.form,"numeroSIGED",t)},expression:"form.numeroSIGED"}})],1),a._v(" "),e("b-form-group",{staticClass:"font col-sm-3 col-md-3 col-lg-3"},[e("label",[a._v("Data Recebimento: "),e("span",{staticClass:"text-danger"},[a._v("*")])]),e("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"bordered margin-field",attrs:{type:"text",placeholder:"dd/mm/aaaa",required:"",disabled:a.disabledAll},model:{value:a.datas.dataRecebimentoBR,callback:function(t){a.$set(a.datas,"dataRecebimentoBR",t)},expression:"datas.dataRecebimentoBR"}})],1),e("b-form-group",{staticClass:"font col-sm-3 col-md-3 col-lg-3"},[e("label",[a._v("Hora Recebimento: "),e("span",{staticClass:"text-danger"},[a._v("*")])]),e("b-form-input",{attrs:{type:"time",required:"",disabled:a.disabledAll},model:{value:a.form.horaRecebimento,callback:function(t){a.$set(a.form,"horaRecebimento",t)},expression:"form.horaRecebimento"}})],1)],1),e("div",{staticClass:"row"},[e("div",{staticClass:"col-12"},[e("div",{staticClass:"row"},[e("b-form-group",{staticClass:"font col-sm-12 col-md-12 col-lg-12",attrs:{label:"Reiteração:"}},[e("b-form-textarea",{attrs:{rows:"3","max-rows":"4",disabled:a.disabledAll},model:{value:a.form.reiteracao,callback:function(t){a.$set(a.form,"reiteracao",t)},expression:"form.reiteracao"}})],1)],1)])])])]),e("div",{staticClass:"py-2 mt-10",attrs:{align:"right"}},[a._t("buttons"),a.disabledAll?a._e():e("b-button",{staticClass:"bordered ml-2",attrs:{type:"submit",variant:"success"}},[a._v("Salvar")])],2)])],1)])])},E=[],z=e(355),Z=e(9853),I=e.n(Z);i["default"].use(I());var B=i["default"].extend({directives:{mask:l.mask},mixins:[z.Z,D.Z],components:{HeaderPage:r.Z,Notifications:d.Z,ReturnMessage:S.Z,LoadingSpinner:k.Z,VueNumeric:I()},props:["idProcesso","idReiteracao","tipo"],data:function(){return{disabledAll:!1,rows:100,currentPage:1,stickyHeader:!0,noCollapse:!0,show:!1,Notificacao:[],Message:[],loading:!1,alert:!1,isLoading:!1,datas:{dataProcessoBR:"",dataRecebimentoBR:""},form:{}}},mounted:function(){this.isLoading=!1,"editar"==this.tipo&&this.carregarDados(),"visualizar"==this.tipo&&(this.carregarDados(),this.disabledAll=!0)},methods:{formatDatasBrToEn:function(){this.form.dataProcesso=this.datas.dataProcessoBR?D.Z.methods.dataFormatEn(this.datas.dataProcessoBR):"",this.form.dataRecebimento=this.datas.dataRecebimentoBR?D.Z.methods.dataFormatEn(this.datas.dataRecebimentoBR):""},formatDatasEnToBr:function(){this.datas.dataProcessoBR=this.form.dataProcesso?D.Z.methods.formatarDataBr(this.form.dataProcesso):"",this.datas.dataRecebimentoBR=this.form.dataRecebimento?D.Z.methods.formatarDataBr(this.form.dataRecebimento):""},validarDataProcesso:function(){return!(this.datas.dataProcessoBR&&!D.Z.methods.validarData(this.datas.dataProcessoBR))},validarDataRecebimento:function(){return!(this.datas.dataRecebimentoBR&&!D.Z.methods.validarData(this.datas.dataRecebimentoBR))},submit:function(){var a=this,t=this.idReiteracao?"put":"post",e="reiteracoes";this.form.idStatus=15,this.form.idProcesso=this.idProcesso,this.form.prazoProcesso=Number(this.form.prazoProcesso),this.form.dataProcesso=this.datas.dataProcessoBR?D.Z.methods.dataFormatEn(this.datas.dataProcessoBR):"",this.form.dataRecebimento=this.datas.dataRecebimentoBR?D.Z.methods.dataFormatEn(this.datas.dataRecebimentoBR):"",this.validarCampos()&&(console.log("JSON: ",JSON.stringify(this.form)),this.loading=!0,R.Z.salvar(e,this.form,t,this.idReiteracao).then((function(e){"put"==t?a.adicionarAlert("success","Atualização realizada com sucesso!"):a.adicionarAlert("success","Cadastro realizado com sucesso!")})).catch((function(t){"Network Error"===t.message?a.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):t&&t.response&&t.response.data&&t.response.data.message?a.adicionarAlert("alert",t.response.data.message):a.adicionarAlert("alert","Houve um erro ao salvar. Verifique o formulário e tente novamente!")})).finally((function(){a.loading=!1})))},carregarDados:function(){var a=this;this.loading=!0,R.Z.get("reiteracoes/id",this.idReiteracao).then((function(t){a.form.numeroProcedimento=t.data.num_procedimento,a.form.dataProcesso=t.data.data_processo,a.form.prazoProcesso=t.data.prazo,a.form.numeroSIGED=t.data.numero_siged,a.form.reiteracao=t.data.reiteracao,a.form.dataRecebimento=t.data.data_recebimento,a.form.horaRecebimento=t.data.hora_recebimento,a.datas.dataProcessoBR=t.data.data_processo?D.Z.methods.formatarDataBr(t.data.data_processo):"",a.datas.dataRecebimentoBR=t.data.data_recebimento?D.Z.methods.formatarDataBr(t.data.data_recebimento):""})).catch((function(t){a.adicionarAlert("alert","Houve um erro ao carregar os dados. Tente novamente!")})).finally((function(){a.loading=!1}))},validarCampos:function(){var a=this;return this.Notificacao=[],this.form.numeroProcedimento||this.adicionarNotificacao("danger","Campo Nº Procedimento é obrigatório!"),this.form.prazoProcesso||this.adicionarNotificacao("danger","Campo Prazo total é obrigatório!"),this.form.dataProcesso||this.adicionarNotificacao("danger","Campo Data do Processo é obrigatório!"),this.form.dataRecebimento||this.adicionarNotificacao("danger","Campo Data Recebimento é obrigatório!"),this.form.horaRecebimento||this.adicionarNotificacao("danger","Campo Hora Recebimento é obrigatório!"),this.validarDataProcesso()||this.adicionarNotificacao("danger","Data do Processo informada é inválida!"),this.validarDataRecebimento()||this.adicionarNotificacao("danger","Data do Recebimento informada é inválida!"),this.form.dataRecebimento<this.form.dataProcesso&&this.adicionarNotificacao("danger","Data de Recebimento não pode ser menor que a data do processo!"),!(this.Notificacao.length>0)||(window.scrollTo(0,0),setTimeout((function(){a.Notificacao=[]}),5e3),!1)},adicionarAlert:function(a,t){this.Message=[],this.Message.push({type:a,message:t}),this.alert=!0},adicionarNotificacao:function(a,t){this.Notificacao.push({type:a,message:t})},fechaAlert:function(){this.alert=!1,"success"==this.Message[0].type&&(this.$bvModal.hide("modal-cadastro-reiteracao"),this.$bvModal.hide("modal-editar-reiteracao"),this.$emit("listarReiteracoes"))}}}),q=B,T=(0,g.Z)(q,w,E,!1,null,null,null),$=T.exports,G=e(9143),O=i["default"].extend({directives:{mask:l.mask},mixins:[D.Z],components:{HeaderPage:r.Z,BIconSearch:u.Lln,BIconJournalText:u.kEx,BIconPlusCircle:u.HON,BIconInfoCircle:u.gjx,ModalReiteracoes:$,Notifications:d.Z,ReturnMessage:S.Z,LoadingSpinner:k.Z,ModalExcluir:G.Z},data:function(){return{rows:100,currentPage:1,stickyHeader:!0,noCollapse:!0,totalRows:1,perPage:10,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],fields:M,items:[],idReiteracaoModal:null,numProcedimentoModal:null,Notificacao:[],Message:[],loading:!1,alert:!1}},props:["idProcesso","tipo"],mounted:function(){this.listarReiteracoes(this.currentPage)},methods:{abrirModal:function(a,t,e){this.$bvModal.show(a),this.idReiteracaoModal=t,this.numProcedimentoModal=e},listarReiteracoes:function(a){var t=this;R.Z.get("reiteracoes/processo","".concat(this.idProcesso,"?currentPage=").concat(a)).then((function(a){console.log("Resp> ",a.data),t.items=a.data.data,t.perPage=a.data.perPage,t.totalRows=a.data.total})).catch((function(a){console.log(a)})).finally((function(){}))},excluir:function(a){var t=this;this.$bvModal.hide("modal-excluir"),R.Z["delete"]("reiteracoes",a).then((function(a){t.adicionarAlert("success","Exclusão realizada com sucesso!"),t.listarReiteracoes(t.currentPage)})).catch((function(a){t.adicionarAlert("alert","Ocorreu um erro ao excluir registro!")})).finally((function(){t.limparNotificacao()}))},limparNotificacao:function(){var a=this;this.Notificacao.length>0&&setTimeout((function(){a.Notificacao=[]}),3e3)},adicionarAlert:function(a,t){this.Message=[],this.Message.push({type:a,message:t}),this.alert=!0},adicionarNotificacao:function(a,t){this.Notificacao.push({type:a,message:t})},fechaAlert:function(){this.alert=!1}}}),L=O,H=(0,g.Z)(L,y,N,!1,null,null,null),F=H.exports,j=i["default"].extend({directives:{mask:l.mask},components:{HeaderPage:r.Z,BIconSearch:u.Lln,BIconJournalPlus:u.Wf7,BIconPlusCircle:u.HON,BIconInfoCircle:u.gjx,Notifications:d.Z,ReturnMessage:S.Z,LoadingSpinner:k.Z,DetalhesProcesso:A.Z,Reiteracoes:F},mixins:[D.Z,C],props:{tipo:String,idProcesso:Number,idReiteracaoModal:Number},data:function(){return{show:!1,isLoading:!0,Notificacao:[],Message:[],loading:!1,alert:!1,formDados:{},carregarForm:{},buttonDisabled:!1,opcaoDuplicar:!1}},mounted:function(){if(this.isLoading=!1,this.formDados=this.$refs.formDetalhes,"visualizar"==this.tipo)return this.formDados.disabledAll=!0,this.buttonDisabled=!0,void this.carregarDados();"editar"==this.tipo&&this.carregarDados()},methods:{duplicar:function(){this.formDados=this.$refs.formDetalhes,this.formDados.limparDadosAoDuplicar(),this.formDados.ocultarCampoSIGED(),this.opcaoDuplicar=!0,this.$emit("alterarTitulo","Duplicar Processo")},submit:function(){var a=this;this.formDados.getValues();var t=!this.idProcesso||this.opcaoDuplicar?"post":"put",e="processos";"post"==t&&(this.formDados.form.statusProcesso=10),this.formDados.form.statusPrazo=""+C.methods.statusPrazo(this.formDados.form.prazoTotal),this.validarCampos()?(console.log("JSON: ",JSON.stringify(this.formDados.form)),this.loading=!0,R.Z.salvar(e,this.formDados.form,t,this.idProcesso).then((function(e){a.opcaoDuplicar?a.adicionarAlert("success","Registro duplicado com sucesso!"):"put"==t?a.adicionarAlert("success","Atualização realizada com sucesso!"):a.adicionarAlert("success","Cadastro realizado com sucesso!")})).catch((function(t){"Network Error"===t.message?a.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):t&&t.response&&t.response.data&&t.response.data.message?a.adicionarAlert("alert",t.response.data.message):a.adicionarAlert("alert","Houve um erro ao salvar. Verifique o formulário e tente novamente!")})).finally((function(){a.loading=!1}))):this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!")},carregarDados:function(){var a=this;this.loading=!0,R.Z.get("processos/id",this.idProcesso).then((function(t){a.formDados.form.idProcesso=t.data.id_processo,a.formDados.form.numProcedimento=t.data.num_procedimento,a.formDados.form.idTipoProcesso=t.data.fk_tipoprocesso,a.formDados.form.prazoTotal=t.data.prazo_total,a.formDados.form.idOrgaoDemandante=t.data.fk_orgaodemandante,a.formDados.form.idAssunto=t.data.fk_assunto,a.formDados.form.idResponsavel=t.data.fk_responsavel,a.formDados.insereSelectOrgaoDemandante(t.data.orgaoDemandante),a.formDados.insereSelectAssunto(t.data.assunto),a.formDados.insereSelectResponsavel(t.data.responsavel),a.formDados.form.dataProcesso=t.data.data_processo,a.formDados.form.dataRecebimento=t.data.data_recebimento,a.formDados.form.horaRecebimento=t.data.hora_recebimento,a.formDados.form.idClassificacao=t.data.fk_classificacao,a.formDados.form.objeto=t.data.objeto,a.formDados.form.requerSIGED=t.data.requer_siged,a.formDados.form.numProcessoSIGED=t.data.numero_siged,a.formDados.form.dataProcessoSIGED=t.data.data_processo_siged,a.formDados.form.permanenciaSIGED=t.data.permanencia_siged,a.formDados.form.caixaAtualSIGED=t.data.caixa_atual_siged,a.formDados.form.tramitacaoSIGED=t.data.tramitacao_siged,a.formDados.form.descricao=t.data.descricao,a.formDados.form.dataLimitePrazo=t.data.dia_limite_prazo,a.formDados.form.diasPercorridos=t.data.dias_percorridos,a.formDados.form.diasExpirados=t.data.dias_expirados,a.formDados.form.sigiloso=t.data.sigiloso,a.formDados.form.observacao=t.data.observacao,a.formDados.form.valorMulta=t.data.valor_multa,a.formDados.form.sigiloso=!(!t.data.sigiloso||"S"!=t.data.sigiloso),a.formDados.form.requerSIGED=!(!t.data.requer_siged||"S"!=t.data.requer_siged),a.formDados.exibirRegistroSIGED=!(!t.data.requer_siged||"S"!=t.data.requer_siged),a.formDados.formatDatasEnToBr()})).catch((function(t){a.adicionarAlert("alert","Houve um erro ao carregar os dados. Tente novamente!")})).finally((function(){a.loading=!1}))},validarCampos:function(){var a=this;return this.formDados.form.numProcedimento||this.adicionarNotificacao("danger","Nº Procedimento é obrigatório!"),this.formDados.form.prazoTotal||this.adicionarNotificacao("danger","Prazo Total é obrigatório!"),!0!==this.formDados.form.requerSIGED||this.formDados.form.numProcessoSIGED||this.adicionarNotificacao("danger","Nº SIGED é obrigatório quando o campo 'Requer SIGED' for selecionado!"),this.formDados.validarDataProcesso()||this.adicionarNotificacao("danger","Data do Processo informada é inválida!"),this.formDados.validarDataRecebimento()||this.adicionarNotificacao("danger","Data do Recebimento informada é inválida!"),this.formDados.validarDataFinalLimite()||this.adicionarNotificacao("danger","Data Final Limite informada é inválida!"),this.formDados.form.dataRecebimento<this.formDados.form.dataProcesso&&this.adicionarNotificacao("danger","Data de Recebimento não pode ser menor que a data do processo!"),this.formDados.form.dataLimitePrazo&&this.formDados.form.dataLimitePrazo<this.formDados.form.dataProcesso&&this.adicionarNotificacao("danger","Data Final Limite não pode ser menor que a data do processo!"),!(this.Notificacao.length>0)||(window.scrollTo(0,0),this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!"),setTimeout((function(){a.Notificacao=[]}),1e4),!1)},adicionarAlert:function(a,t){this.Message=[],this.Message.push({type:a,message:t}),this.alert=!0},adicionarNotificacao:function(a,t){this.Notificacao.push({type:a,message:t})},fechaAlert:function(){this.alert=!1,"success"==this.Message[0].type&&(this.$bvModal.hide("modal-cadastro-processo"),this.$bvModal.hide("modal-editar-processo"),this.$emit("listarProcesso"))}}}),J=j,V=(0,g.Z)(J,P,_,!1,null,null,null),U=V.exports,W=[{key:"botaoAction",label:"Ações",sortable:!1},{key:"num_procedimento",label:"Nº Procedimento",sortable:!0},{key:"numero_siged",label:"Nº SIGED",sortable:!0},{key:"orgaoDemandante.orgao_demandante",label:"Órgão Demandante",sortable:!0},{key:"classificacao.desc_classificacao",label:"Classificação",sortable:!0},{key:"caixa_atual_siged",label:"Caixa SIGED",sortable:!0},{key:"status.desc_status",label:"Status",sortable:!0},{key:"prazo_total",label:"Prazo (Dias Úteis)",sortable:!0},{key:"diasAExpirar",label:"Dias a Expirar (Corridos)",sortable:!0},{key:"reiteracoes",label:"Reiteração",sortable:!0}],K=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("div",{staticClass:"col-12"},[e("b-form",{on:{submit:function(t){return t.preventDefault(),a.submit.apply(null,arguments)}}},[e("notifications",{attrs:{notifications:a.Notificacao}}),a.alert?e("div",[e("ReturnMessage",{attrs:{message:a.Message,fechaAlert:a.fechaAlert}})],1):a._e(),a.loading?e("div",[e("LoadingSpinner")],1):a._e(),e("div",{staticClass:"row"},[e("b-form-group",{staticClass:"font col-7 col-sm-7 col-md-7 col-lg-7",attrs:{append:"m"}},[e("label",[e("b",[a._v("Nº Procedimento:")])]),a._v(" "+a._s(a.form.numProcedimento)+" ")])],1),e("div",{staticClass:"row"},[e("b-form-group",{staticClass:"font col-7 col-sm-7 col-md-7 col-lg-7",attrs:{append:"m"}},[e("label",[a._v("Status Processo: "),e("span",{staticClass:"text-danger"},[a._v("*")])]),e("b-form-select",{on:{change:function(t){return a.alteraStatus(t)}},model:{value:a.form.idStatusProcesso,callback:function(t){a.$set(a.form,"idStatusProcesso",t)},expression:"form.idStatusProcesso"}},[e("b-form-select-option",{attrs:{value:""}},[a._v("-- Selecione --")]),a._l(a.optionsStatusProcesso,(function(t){return e("b-form-select-option",{key:t.id_status,attrs:{value:t.id_status}},[a._v(" "+a._s(t.desc_status)+" ")])}))],2)],1)],1),a.exibirData?e("div",{staticClass:"row"},[e("div",{staticClass:"col-7",staticStyle:{"margin-bottom":"-10px"}},[e("b-form-group",{staticClass:"font"},[e("label",[a._v("Data Arquivamento SIGED: "),e("span",{staticClass:"text-danger"},[a._v("*")])]),e("b-form-input",{directives:[{name:"mask",rawName:"v-mask",value:"##/##/####",expression:"'##/##/####'"}],staticClass:"bordered margin-field",attrs:{type:"text",placeholder:"dd/mm/aaaa"},model:{value:a.dataArquivamentoBR,callback:function(t){a.dataArquivamentoBR=t},expression:"dataArquivamentoBR"}})],1)],1),e("div",{staticClass:"col-12 mt-0"},[e("b-form-group",{staticClass:"font"},[e("small",[a._v("Após "),e("b",[a._v("arquivamento")]),a._v(" não será possível editar processo.")])])],1)]):a._e(),e("div",{staticClass:"py-2 mt-10",attrs:{align:"right"}},[a._t("buttons"),e("b-button",{staticClass:"bordered ml-2",attrs:{type:"submit",variant:"success"}},[a._v("Salvar")])],2)],1)],1)])},Q=[],X=i["default"].extend({directives:{mask:l.mask},components:{HeaderPage:r.Z,BIconSearch:u.Lln,BIconJournalPlus:u.Wf7,BIconPlusCircle:u.HON,BIconInfoCircle:u.gjx,Notifications:d.Z,ReturnMessage:S.Z,LoadingSpinner:k.Z,DetalhesProcesso:A.Z},mixins:[D.Z],props:["idProcesso"],data:function(){return{show:!1,isLoading:!0,Notificacao:[],Message:[],loading:!1,alert:!1,form:{},dataArquivamentoBR:"",optionsStatusProcesso:[],perPageListagens:1e3,exibirData:!1,statusAtual:null}},mounted:function(){this.isLoading=!1,this.carregarDados(),this.carregarStatusPrazo()},methods:{alteraStatus:function(){this.dataArquivamentoBR="",this.form.dataArquivamento="","14"==this.form.idStatusProcesso?this.exibirData=!0:this.exibirData=!1},carregarDados:function(){var a=this;this.loading=!0,R.Z.get("processos/id",this.idProcesso).then((function(t){console.log("res2 ",t.data.status.id_status),a.form.numProcedimento=t.data.num_procedimento,a.form.idProcesso=t.data.idProcesso,a.form.dataArquivamento=t.data.dataArquivamento,a.form.idStatusProcesso=t.data.status.id_status,a.statusAtual=t.data.status.id_status,a.dataArquivamentoBR=t.data.dataArquivamento?D.Z.methods.formatarDataBr(t.data.dataArquivamento):""})).catch((function(t){a.adicionarAlert("alert","Houve um erro ao carregar os dados. Tente novamente!")})).finally((function(){a.loading=!1}))},submit:function(){var a=this,t="processos/atualiza-status?idProcesso="+this.idProcesso;this.form.idProcesso=this.idProcesso,this.loading=!0,this.validarCampos()&&(this.form.dataArquivamento=this.dataArquivamentoBR?D.Z.methods.dataFormatEn(this.dataArquivamentoBR):"",console.log("JSON: ",JSON.stringify(this.form)),R.Z.patch(t,this.form).then((function(t){a.adicionarAlert("success","Atualização realizada com sucesso!")})).catch((function(t){a.loading=!1,"Network Error"===t.message?a.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):t&&t.response&&t.response.data&&t.response.data.message?a.adicionarAlert("alert",t.response.data.message):a.adicionarAlert("alert","Houve um erro ao salvar. Verifique o formulário e tente novamente!")})).finally((function(){a.loading=!1})))},carregarStatusPrazo:function(){var a=this;this.loading=!0,R.Z.get("status/aplicacaostatus","?aplicaA=PROCESSO&currentPage=1&perPage=".concat(this.perPageListagens)).then((function(t){a.optionsStatusProcesso=t.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1}))},validarCampos:function(){var a=this;return this.Notificacao=[],this.form.idStatusProcesso||this.adicionarNotificacao("danger","Campo Status Processo é obrigatório!"),10!=this.statusAtual&&10==this.form.idStatusProcesso&&this.adicionarNotificacao("danger","Não é possível retornar ao status Recebido!"),"14"!=this.form.idStatusProcesso||this.dataArquivamentoBR||this.adicionarNotificacao("danger","Campo Data é obrigatório!"),this.dataArquivamentoBR&&!D.Z.methods.validarData(this.dataArquivamentoBR)&&this.adicionarNotificacao("danger","A data informada é inválida."),!(this.Notificacao.length>0)||(this.loading=!1,window.scrollTo(0,0),setTimeout((function(){a.Notificacao=[]}),1e4),!1)},adicionarAlert:function(a,t){this.Message=[],this.Message.push({type:a,message:t}),this.alert=!0},adicionarNotificacao:function(a,t){this.Notificacao.push({type:a,message:t})},fechaAlert:function(){this.alert=!1,"success"==this.Message[0].type&&(this.$bvModal.hide("modal-andamento-processo"),this.$emit("listarProcesso"))}}}),Y=X,aa=(0,g.Z)(Y,K,Q,!1,null,null,null),ta=aa.exports,ea=function(){var a=this,t=a.$createElement,e=a._self._c||t;return e("div",[e("b-modal",{attrs:{id:"modal-mensagem",title:a.title,"hide-footer":""}},[e("p",{staticClass:"my-4"},[a._v(a._s(a.pergunta))]),e("b-button",{staticClass:"mr-2",on:{click:function(t){return a.$bvModal.hide("modal-mensagem")}}},[a._v("Fechar")]),a._t("buttons")],2)],1)},oa=[],sa=i["default"].extend({props:["pergunta","title"],methods:{}}),ia=sa,ra=(0,g.Z)(ia,ea,oa,!1,null,null,null),na=ra.exports,ca=i["default"].extend({directives:{mask:l.mask},components:{HeaderPage:r.Z,ModalTramitacoesProcesso:b,ModalDetalhesProcesso:U,Notifications:d.Z,ModalAndamentoProcesso:ta,ReturnMessage:S.Z,LoadingSpinner:k.Z,ModalReiteracoes:$,ModalExcluir:G.Z,ModalMensagem:na},mixins:[D.Z],data:function(){return{placeholderItem:"--Selecione--",titleModal:"",idProcessoModal:null,numProcedimentoModal:"",rows:100,totalRows:null,perPage:10,currentPage:1,stickyHeader:!0,noCollapse:!0,show:!1,exibirMaisDetalhes:!1,exibirRegistroSIGED:!1,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],form:{},formDesarquivado:{},checkedProcessoSiged:!1,checkedExpiraHoje:!1,maisDetalhes:!1,fields:W,items:[],optionsOrgaoDemandante:[],optionsTipoProcesso:[],optionsAssunto:[],optionsClassificacao:[],optionsResponsavel:[],optionsStatusProcesso:[],optionsStatusPrazo:[],optionsCaixa:[],Notificacao:[],Message:[],loading:!1,alert:!1,perPageListagens:3e4,tipoProcessoSelecionado:{desc_tipoprocesso:"-- Selecione --",id_tipoprocesso:""},statusProcessoSelecionado:{desc_status:"-- Selecione --",id_status:""},statusPrazoSelecionado:{desc_status:"-- Selecione --",id_status:""},orgaoDemandanteSelecionado:{orgao_demandante:"-- Selecione --",id_orgao:""},classificacaoSelecionada:{id_classificacao:"",desc_classificacao:"-- Selecione --"},responsavelSelecionado:{nome_responsavel:"-- Selecione --",id_responsavel:""},assuntoSelecionado:{id_assunto:"",desc_assunto:"-- Selecione --"},caixaSigedSelecionada:{caixa_atual_siged:""}}},mounted:function(){this.listarProcesso(this.currentPage),this.carregarResponsavel(),this.carregarClassificacao(),this.carregarAssunto(),this.carregarOrgaosDemandantes(),this.carregarTipoProcesso(),this.carregarStatusProcesso(),this.carregarStatusPrazo(),this.carregarCaixaSiged()},methods:{alterarTitulo:function(a){this.titleModal=a},abrirModal:function(a,t,e,o){this.titleModal="",this.idProcessoModal=t,this.numProcedimentoModal=e,this.$bvModal.show(a)},alterarProced:function(){this.form.numProcessoSIGED="",this.form.numProcedimento=""},calcularDiasAExpirar:function(a){var t=D.Z.methods.diferencaEntreDataAtual(a);return t},calcularDiasAExpirarDesc:function(a){var t=D.Z.methods.diferencaEntreDataAtual(a);return t?t<0?"Expirado":t+" dias":""},listarProcesso:function(a){var t=this;this.loading=!0;var e={};R.Z.post3("processos/list","?currentPage=".concat(a),e).then((function(a){console.log("Resp ",a.data),t.items=a.data.data,t.perPage=a.data.perPage,t.totalRows=a.data.total})).catch((function(a){t.Notificacao.push({type:"danger",message:"Não foi possível carregar a listagem!"}),console.log(a)})).finally((function(){t.loading=!1,t.limparNotificacao()}))},search:function(){var a=this,t={numProcedimento:this.form.numProcedimento?this.form.numProcedimento:"",numProcessoSIGED:this.form.numProcessoSIGED?this.form.numProcessoSIGED:"",idAssunto:this.assuntoSelecionado?this.assuntoSelecionado.id_assunto:"",caixaAtualSIGED:this.caixaSigedSelecionada?this.caixaSigedSelecionada.caixa_atual_siged:"",idOrgaoDemandante:this.orgaoDemandanteSelecionado?this.orgaoDemandanteSelecionado.id_orgao:"",idTipoProcesso:this.tipoProcessoSelecionado?this.tipoProcessoSelecionado.id_tipoprocesso:"",statusProcesso:this.statusProcessoSelecionado?this.statusProcessoSelecionado.id_status:"",statusPrazo:this.statusPrazoSelecionado?this.statusPrazoSelecionado.id_status.toString():"",idClassificacao:this.classificacaoSelecionada?this.classificacaoSelecionada.id_classificacao:"",idResponsavel:this.responsavelSelecionado?this.responsavelSelecionado.id_responsavel:""};console.log("busca ",JSON.stringify(t)),R.Z.post("processos/list",t).then((function(t){a.items=t.data.data,a.perPage=t.data.perPage,a.totalRows=t.data.total})).catch((function(t){if(t.message.length>0)return a.Notificacao.push({type:"danger",message:t.response.data.message}),!1})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarResponsavel:function(){var a=this;this.loading=!0;var t={};R.Z.post("responsaveis/list?currentPage=1&perPage=30000",t).then((function(t){a.optionsResponsavel=t.data.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarCaixaSiged:function(){var a=this;this.loading=!0,R.Z.get("processos/caixas-siged","?currentPage=1&perPage=".concat(this.perPageListagens)).then((function(t){a.optionsCaixa=t.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarStatusProcesso:function(){var a=this;this.loading=!0,R.Z.get("status/aplicacaostatUs","?aplicaA=PROCESSO").then((function(t){a.optionsStatusProcesso=t.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarStatusPrazo:function(){var a=this;this.loading=!0,R.Z.get("status/aplicacaostatUs","?aplicaA=PRAZO_PROCESSO").then((function(t){a.optionsStatusPrazo=t.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarClassificacao:function(){var a=this;this.loading=!0,R.Z.get("classificacoes","?currentPage=1&perPage=".concat(this.perPageListagens)).then((function(t){a.optionsClassificacao=t.data.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarAssunto:function(){var a=this;this.loading=!0,R.Z.get("assuntos","?currentPage=1&perPage=".concat(this.perPageListagens)).then((function(t){a.optionsAssunto=t.data.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarOrgaosDemandantes:function(){var a=this;this.loading=!0,R.Z.get("orgaos-demandantes","?currentPage=1&perPage=".concat(this.perPageListagens)).then((function(t){a.optionsOrgaoDemandante=t.data.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},carregarTipoProcesso:function(){var a=this;this.loading=!0,R.Z.get("tipos-processo","?currentPage=1&perPage=".concat(this.perPageListagens)).then((function(t){a.optionsTipoProcesso=t.data.data})).catch((function(a){console.log(a)})).finally((function(){a.loading=!1,a.limparNotificacao()}))},limparNotificacao:function(){var a=this;this.Notificacao.length>0&&setTimeout((function(){a.Notificacao=[]}),3e3)},desarquivar:function(a){var t=this;this.$bvModal.hide("modal-mensagem"),this.formDesarquivado.idProcesso=a,this.formDesarquivado.dataArquivamento="",this.formDesarquivado.idStatusProcesso=12;var e="processos/atualiza-status?idProcesso="+a;R.Z.patch(e,this.formDesarquivado).then((function(a){t.loading=!0,t.adicionarAlert("success","Processo Desarquivado com sucesso!"),t.listarProcesso(t.currentPage)})).catch((function(a){t.loading=!1,"Network Error"===a.message?t.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):a&&a.response&&a.response.data&&a.response.data.message?t.adicionarAlert("alert",a.response.data.message):t.adicionarAlert("alert","Ocorreu um erro ao desarquivar processo! Contacte o administrador do sistema.")})).finally((function(){t.loading=!1}))},excluir:function(a){var t=this;this.$bvModal.hide("modal-excluir"),R.Z["delete"]("processos",a).then((function(a){t.loading=!0,t.adicionarAlert("success","Exclusão realizada com sucesso!"),t.listarProcesso(t.currentPage)})).catch((function(a){t.adicionarAlert("alert","Ocorreu um erro ao excluir registro!")})).finally((function(){t.loading=!1}))},colorReiteracao:function(a){return a>0?"info":"light"},colorDiasRestantes:function(a){var t=this.calcularDiasAExpirar(a);return t<0?"dark":t>=0&&t<4?"danger":t>=4&&t<6?"warning":t>=6?"success":""},statusDiasRestantes:function(a){return a<0?"Expirado":a>=0&&a<=3?"Crítico":a>=4&&a<=5?"Atenção":a>=6?"Normal":""},colorStatusProcesso:function(a){switch(a){case 12:return"warning";case 11:return"info";case 14:return"dark";case 13:return"primary";default:break}},exibeMaisDetalhes:function(){!0===this.maisDetalhes?this.exibirMaisDetalhes=!0:this.exibirMaisDetalhes=!1},exibirCampoSIGED:function(){!0===this.form.requerSIGED?this.exibirRegistroSIGED=!0:this.exibirRegistroSIGED=!1},adicionarAlert:function(a,t){this.Message=[],this.Message.push({type:a,message:t}),this.alert=!0},adicionarNotificacao:function(a,t){this.Notificacao.push({type:a,message:t})},fechaAlert:function(){this.alert=!1}}}),la=ca,da=(0,g.Z)(la,o,s,!1,null,null,null),ua=da.exports},355:function(a,t,e){e(4916),e(5306);var o={methods:{validarCpf:function(a){if("string"!=typeof a)return!1;if(a=a.replace(/[^\d]+/g,""),""==a)return!1;if(11!=a.length||"00000000000"==a||"11111111111"==a||"22222222222"==a||"33333333333"==a||"44444444444"==a||"55555555555"==a||"66666666666"==a||"77777777777"==a||"88888888888"==a||"99999999999"==a)return!1;for(var t=0,e=0;e<9;e++)t+=parseInt(a.charAt(e))*(10-e);var o=11-t%11;if(10!=o&&11!=o||(o=0),o!=parseInt(a.charAt(9)))return!1;t=0;for(var s=0;s<10;s++)t+=parseInt(a.charAt(s))*(11-s);return o=11-t%11,10!=o&&11!=o||(o=0),o==parseInt(a.charAt(10))}}};t["Z"]=o}}]);
//# sourceMappingURL=731-legacy.90b9d110.js.map