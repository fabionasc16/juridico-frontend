"use strict";(self["webpackChunkjuridico_frontend"]=self["webpackChunkjuridico_frontend"]||[]).push([[309],{9143:function(t,s,o){o.d(s,{Z:function(){return d}});var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",[o("b-modal",{attrs:{id:"modal-excluir",title:"Excluir","hide-footer":""}},[o("p",{staticClass:"my-4"},[t._v("Deseja excluir "+t._s(t.pergunta)+"?")]),o("b-button",{staticClass:"mr-2",on:{click:function(s){return t.$bvModal.hide("modal-excluir")}}},[t._v("Fechar")]),t._t("buttons")],2)],1)},a=[],i=o(8935),r=i["default"].extend({props:["pergunta"],methods:{}}),l=r,c=o(1001),n=(0,c.Z)(l,e,a,!1,null,null,null),d=n.exports},9739:function(t,s,o){o.r(s),o.d(s,{default:function(){return w}});var e=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"container fluid"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12",staticStyle:{"margin-top":"20px"}},[o("b-form-group",{staticClass:"titulo m-0",attrs:{label:"Consulta de Tipos de Processo","label-size":"lg"}},[o("hr")])],1)]),o("notifications",{attrs:{notifications:t.Notificacao}}),t.alert?o("div",[o("ReturnMessage",{attrs:{message:t.Message,fechaAlert:t.fechaAlert}})],1):t._e(),t.loading?o("div",[o("LoadingSpinner")],1):t._e(),o("b-form",{staticClass:"mb-5",on:{submit:function(s){return s.preventDefault(),t.search.apply(null,arguments)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-3"},[o("b-form-group",{staticClass:"font",attrs:{label:"Tipo Processo:"}},[o("b-input-group",[o("b-form-input",{staticClass:"bordered margin-field",attrs:{type:"text"},model:{value:t.busca,callback:function(s){t.busca=s},expression:"busca"}}),o("b-input-group-append",[o("b-input-group-text",{on:{click:function(s){t.busca=""}}},[o("b-icon",{attrs:{icon:"x"}})],1)],1)],1)],1)],1),o("div",{staticClass:"col-2 justify-content-center"},[o("b-form-group",{staticClass:"font text-white",attrs:{label:"Consultar"}},[o("b-button",{staticClass:"h2",attrs:{type:"submit"}},[o("b-icon-search",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Consultar",expression:"'Consultar'",modifiers:{hover:!0,topleft:!0}}]})],1)],1)],1)])]),o("div",{staticClass:"card p-0 m-0"},[o("div",{staticClass:"card-header",attrs:{align:"right"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-1 text-blue h2 p0m0",attrs:{align:"center",label:"Tipos de Processo Cadastrados"}},[o("b-icon-journal-text")],1),t._m(0),o("div",{staticClass:"col-1 position-relative",attrs:{align:"center"}},[o("b-form-group",{staticClass:"btn text-primary position-absolute top-50 start-50 translate-middle",attrs:{label:""}},[o("div",{staticClass:"h3"},[o("b-icon-plus-circle",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-cadastro-tipoprocesso",modifiers:{"modal-cadastro-tipoprocesso":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Adicionar Tipo de Processo",expression:"'Adicionar Tipo de Processo'",modifiers:{hover:!0,topleft:!0}}]})],1)])],1)])]),o("div",[o("b-table-lite",{staticClass:"m-0",attrs:{small:"",striped:"",hover:"","head-variant":"dark","current-page":t.currentPage,"per-page":t.perPage,"no-border-collapse":t.noCollapse,items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(botaoAction)",fn:function(s){return[o("b-dropdown",{staticClass:"p0m0",attrs:{variant:"dark",size:"sm"},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" ≡"),o("span",{staticClass:"sr-only"})]},proxy:!0}],null,!0)},[o("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(o){return t.editarTipoProcesso(s.item.id_tipoprocesso)}}},[t._v(" Editar ")]),o("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(o){return t.visualizarTipoProcesso(s.item.id_tipoprocesso)}}},[t._v(" Visualizar ")]),o("b-list-group-item",{staticClass:"btn-light text-dark btn-outline-danger m-0 p-1",attrs:{block:""},on:{click:function(o){return t.abrirModal("modal-excluir",s.item.id_tipoprocesso,s.item.desc_tipoprocesso)},listarTiposProcesso:function(s){return t.listarTiposProcesso(t.currentPage)}}},[t._v(" Excluir ")])],1)]}}])})],1),o("div",{staticClass:"card-footer m-0 px-1 pt-1"},[o("div",{staticClass:"col-12 m-0 px-1 pt-1"},[o("b-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalRows,expression:"totalRows"}],attrs:{pills:"",align:"right",size:"sm","total-rows":t.totalRows,"per-page":t.perPage},on:{change:t.listarTiposProcesso},model:{value:t.currentPage,callback:function(s){t.currentPage=s},expression:"currentPage"}})],1)]),o("div",[t._v("  "),o("b",[t._v("Total Registros:")]),t._v(" "+t._s(t.totalRows))])]),o("b-modal",{attrs:{id:"modal-cadastro-tipoprocesso",centered:"",title:"Cadastro de Tipo de Processo","hide-footer":""}},[o("ModalCadastroTipoProcesso",{on:{listarTiposProcesso:function(s){return t.listarTiposProcesso(t.currentPage)}},scopedSlots:t._u([{key:"buttons",fn:function(){return[o("b-button",{staticClass:"bordered",on:{click:function(s){return t.$bvModal.hide("modal-cadastro-tipoprocesso")}}},[t._v("Fechar")])]},proxy:!0}])})],1),o("b-modal",{attrs:{id:"modal-editar-tipoprocesso",centered:"",title:"Editar Tipo de Processo","hide-footer":""}},[o("ModalCadastroTipoProcesso",{attrs:{tipo:"editar",id:t.idTipoProcesso},on:{listarTiposProcesso:function(s){return t.listarTiposProcesso(t.currentPage)}},scopedSlots:t._u([{key:"buttons",fn:function(){return[o("b-button",{staticClass:"bordered",on:{click:function(s){return t.$bvModal.hide("modal-editar-tipoprocesso")}}},[t._v("Fechar")])]},proxy:!0}])})],1),o("b-modal",{attrs:{id:"modal-visualizar-tipoprocesso",centered:"",title:"Visualizar Tipo de Processo","hide-footer":""}},[o("ModalCadastroTipoProcesso",{attrs:{tipo:"visualizar",id:t.idTipoProcesso},on:{listarTiposProcesso:function(s){return t.listarTiposProcesso(t.currentPage)}},scopedSlots:t._u([{key:"buttons",fn:function(){return[o("b-button",{staticClass:"bordered",on:{click:function(s){return t.$bvModal.hide("modal-visualizar-tipoprocesso")}}},[t._v("Fechar")])]},proxy:!0}])})],1),o("ModalExcluir",{attrs:{pergunta:"o tipo de processo "+t.tipoProcessoModal},scopedSlots:t._u([{key:"buttons",fn:function(){return[o("b-button",{staticClass:"bordered",attrs:{variant:"danger"},on:{click:function(s){return t.excluir(t.idTipoProcesso)}}},[t._v("Excluir")])]},proxy:!0}])})],1)},a=[function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",{staticClass:"col-10 mt-1",attrs:{align:"start"}},[o("div",{staticClass:"row position-relative"},[o("h5",[t._v("Tipos de Processo Cadastrados")])])])}],i=o(8935),r=o(784),l=o(8161);const c=[{key:"botaoAction",label:"Ações",sortable:!1},{key:"desc_tipoprocesso",label:"Tipo Processo",sortable:!0}];var n=o(3126),d=o(2210),p=o(9728),u=o(4753),h=o(3403),m=function(){var t=this,s=t.$createElement,o=t._self._c||s;return o("div",[o("div",{staticClass:"col-12"},[o("b-form",{on:{submit:function(s){return s.preventDefault(),t.submit.apply(null,arguments)}}},[o("notifications",{attrs:{notifications:t.Notificacao}}),t.alert?o("div",[o("ReturnMessage",{attrs:{message:t.Message,fechaAlert:t.fechaAlert}})],1):t._e(),t.loading?o("div",[o("LoadingSpinner")],1):t._e(),o("div",{staticClass:"row"},[o("div",{staticClass:"col-10"},[o("b-form-group",{staticClass:"font"},[o("label",[t._v("Tipo de Processo: "),o("span",{staticClass:"text-danger"},[t._v("*")])]),o("b-form-input",{staticClass:"bordered margin-field",attrs:{type:"text",disabled:t.disabledAll,required:""},model:{value:t.form.desc_tipoprocesso,callback:function(s){t.$set(t.form,"desc_tipoprocesso",s)},expression:"form.desc_tipoprocesso"}})],1)],1)]),o("div",{staticClass:"py-2 mt-10",attrs:{align:"right"}},[t._t("buttons"),t.disabledAll?t._e():o("b-button",{staticClass:"bordered ml-2",attrs:{type:"submit",variant:"success"}},[t._v("Salvar")])],2)],1)],1)])},b=[],f=o(7054),g=o(3248),v=i["default"].extend({directives:{mask:l.mask},components:{HeaderPage:r.Z,BIconSearch:f.Lln,BIconJournalPlus:f.Wf7,BIconPlusCircle:f.HON,BIconInfoCircle:f.gjx,Notifications:p.Z,ReturnMessage:u.Z,LoadingSpinner:h.Z,DetalhesProcesso:g.Z},props:["id","tipo"],data(){return{disabledAll:!1,show:!1,isLoading:!0,Notificacao:[],Message:[],loading:!1,alert:!1,form:{}}},mounted(){this.isLoading=!1,"editar"==this.tipo&&this.carregarDados(),"visualizar"==this.tipo&&(this.carregarDados(),this.disabledAll=!0)},methods:{submit(){let t=this.id?"put":"post",s="tipos-processo";this.loading=!0,this.validarCampos()?(console.log("JSON: ",JSON.stringify(this.form)),d.Z.salvar(s,this.form,t,this.form.id_tipoprocesso).then((s=>{"put"==t?this.adicionarAlert("success","Atualização realizada com sucesso!"):this.adicionarAlert("success","Cadastro realizado com sucesso!")})).catch((t=>{"Network Error"===t.message?this.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):t&&t.response&&t.response.data&&t.response.data.message?this.adicionarAlert("alert",t.response.data.message):this.adicionarAlert("alert","Houve um erro ao salvar. Verifique o formulário e tente novamente!")})).finally((()=>{this.loading=!1}))):this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!")},carregarDados(){this.loading=!0,d.Z.get("tipos-processo/id",this.id).then((t=>{this.form=t.data})).catch((t=>{this.adicionarAlert("alert","Houve um erro ao carregar os dados. Tente novamente!")})).finally((()=>{this.loading=!1}))},validarCampos(){return this.form.desc_tipoprocesso||this.adicionarNotificacao("danger","Campo Tipo de Processo é obrigatório!"),!(this.Notificacao.length>0)||(this.loading=!1,window.scrollTo(0,0),this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!"),setTimeout((()=>{this.Notificacao=[]}),1e4),!1)},adicionarAlert(t,s){this.Message=[],this.Message.push({type:t,message:s}),this.alert=!0},adicionarNotificacao(t,s){this.Notificacao.push({type:t,message:s})},fechaAlert(){this.alert=!1,"success"==this.Message[0].type&&(this.$bvModal.hide("modal-cadastro-tipoprocesso"),this.$bvModal.hide("modal-editar-tipoprocesso"),this.$emit("listarTiposProcesso"))}}}),P=v,C=o(1001),x=(0,C.Z)(P,m,b,!1,null,null,null),_=x.exports,T=o(9143),k=i["default"].extend({directives:{mask:l.mask},components:{HeaderPage:r.Z,Notifications:p.Z,ReturnMessage:u.Z,LoadingSpinner:h.Z,ModalCadastroTipoProcesso:_,ModalExcluir:T.Z},mixins:[n.Z],data(){return{idTipoProcesso:null,tipoProcessoModal:"",rows:100,currentPage:1,totalRows:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],busca:"",fields:c,stickyHeader:!0,noCollapse:!0,items:[],Notificacao:[],Message:[],loading:!1,alert:!1}},mounted(){this.listarTiposProcesso(this.currentPage)},methods:{abrirModal(t,s,o){this.idTipoProcesso=s,this.tipoProcessoModal=o,this.$bvModal.show(t)},editarTipoProcesso(t){this.idTipoProcesso=t,this.$bvModal.show("modal-editar-tipoprocesso")},visualizarTipoProcesso(t){this.idTipoProcesso=t,this.$bvModal.show("modal-visualizar-tipoprocesso")},search(){console.log(JSON.stringify(this.busca)),this.busca?d.Z.get("tipos-processo",`?currentPage=${this.currentPage}&search=${this.busca}`).then((t=>{this.perPage=t.data.perPage,this.items=t.data.data,this.totalRows=t.data.total})).catch((t=>{this.adicionarAlert("alert","Ocorreu um erro ao realizar a pesquisa!")})):this.listarTiposProcesso(this.currentPage)},listarTiposProcesso(t){this.loading=!0,d.Z.get("tipos-processo",`?currentPage=${t}`).then((t=>{this.items=t.data.data,this.perPage=t.data.perPage,this.totalRows=t.data.total})).catch((t=>{"Network Error"===t.message?this.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):t&&t.response&&t.response.data&&t.response.data.message?this.adicionarAlert("alert",t.response.data.message):this.adicionarAlert("alert","Houve um erro. Não foi possível carregar a listagem!")})).finally((()=>{this.loading=!1}))},excluir(t,s){this.$bvModal.hide("modal-excluir"),d.Z["delete"]("tipos-processo",t).then((t=>{this.loading=!0,this.adicionarAlert("success","Exclusão realizada com sucesso!"),this.listarTiposProcesso(this.currentPage)})).catch((t=>{this.adicionarAlert("alert","Ocorreu um erro ao excluir registro!")})).finally((()=>{this.loading=!1}))},adicionarAlert(t,s){this.Message=[],this.Message.push({type:t,message:s}),this.alert=!0},adicionarNotificacao(t,s){this.Notificacao.push({type:t,message:s})},fechaAlert(){this.alert=!1}}}),y=k,M=(0,C.Z)(y,e,a,!1,null,null,null),w=M.exports}}]);
//# sourceMappingURL=309.afae4079.js.map