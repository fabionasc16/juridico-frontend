"use strict";(self["webpackChunkjuridico_frontend"]=self["webpackChunkjuridico_frontend"]||[]).push([[309],{9143:function(t,o,s){s.d(o,{Z:function(){return d}});var e=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("b-modal",{attrs:{id:"modal-excluir",title:"Excluir","hide-footer":""}},[s("p",{staticClass:"my-4"},[t._v("Deseja excluir "+t._s(t.pergunta)+"?")]),s("b-button",{staticClass:"mr-2",on:{click:function(o){return t.$bvModal.hide("modal-excluir")}}},[t._v("Fechar")]),t._t("buttons")],2)],1)},a=[],i=s(8935),r=i["default"].extend({props:["pergunta"],methods:{}}),n=r,c=s(1001),l=(0,c.Z)(n,e,a,!1,null,null,null),d=l.exports},9739:function(t,o,s){s.r(o),s.d(o,{default:function(){return w}});var e=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"container fluid"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-12",staticStyle:{"margin-top":"20px"}},[s("b-form-group",{staticClass:"titulo m-0",attrs:{label:"Consulta de Tipos de Processo","label-size":"lg"}},[s("hr")])],1)]),s("notifications",{attrs:{notifications:t.Notificacao}}),t.alert?s("div",[s("ReturnMessage",{attrs:{message:t.Message,fechaAlert:t.fechaAlert}})],1):t._e(),t.loading?s("div",[s("LoadingSpinner")],1):t._e(),s("b-form",{staticClass:"mb-5",on:{submit:function(o){return o.preventDefault(),t.search.apply(null,arguments)}}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-3"},[s("b-form-group",{staticClass:"font",attrs:{label:"Tipo Processo:"}},[s("b-input-group",[s("b-form-input",{staticClass:"bordered margin-field",attrs:{type:"text"},model:{value:t.busca,callback:function(o){t.busca=o},expression:"busca"}}),s("b-input-group-append",[s("b-input-group-text",{on:{click:function(o){t.busca=""}}},[s("b-icon",{attrs:{icon:"x"}})],1)],1)],1)],1)],1),s("div",{staticClass:"col-2 justify-content-center"},[s("b-form-group",{staticClass:"font text-white",attrs:{label:"Consultar"}},[s("b-button",{staticClass:"h2",attrs:{type:"submit"}},[s("b-icon-search",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Consultar",expression:"'Consultar'",modifiers:{hover:!0,topleft:!0}}]})],1)],1)],1)])]),s("div",{staticClass:"card p-0 m-0"},[s("div",{staticClass:"card-header",attrs:{align:"right"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-1 text-blue h2 p0m0",attrs:{align:"center",label:"Tipos de Processo Cadastrados"}},[s("b-icon-journal-text")],1),t._m(0),s("div",{staticClass:"col-1 position-relative",attrs:{align:"center"}},[s("b-form-group",{staticClass:"btn text-primary position-absolute top-50 start-50 translate-middle",attrs:{label:""}},[s("div",{staticClass:"h3"},[s("b-icon-plus-circle",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-cadastro-tipoprocesso",modifiers:{"modal-cadastro-tipoprocesso":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Adicionar Tipo de Processo",expression:"'Adicionar Tipo de Processo'",modifiers:{hover:!0,topleft:!0}}]})],1)])],1)])]),s("div",[s("b-table-lite",{staticClass:"m-0",attrs:{small:"",striped:"",hover:"","head-variant":"dark","current-page":t.currentPage,"per-page":t.perPage,"no-border-collapse":t.noCollapse,items:t.items,fields:t.fields},scopedSlots:t._u([{key:"cell(botaoAction)",fn:function(o){return[s("b-dropdown",{staticClass:"p0m0",attrs:{variant:"dark",size:"sm"},scopedSlots:t._u([{key:"button-content",fn:function(){return[t._v(" ≡"),s("span",{staticClass:"sr-only"})]},proxy:!0}],null,!0)},[s("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(s){return t.editarTipoProcesso(o.item.id_tipoprocesso)}}},[t._v(" Editar ")]),s("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(s){return t.visualizarTipoProcesso(o.item.id_tipoprocesso)}}},[t._v(" Visualizar ")]),s("b-list-group-item",{staticClass:"btn-light text-dark btn-outline-danger m-0 p-1",attrs:{block:""},on:{click:function(s){return t.abrirModal("modal-excluir",o.item.id_tipoprocesso,o.item.desc_tipoprocesso)},listarTiposProcesso:function(o){return t.listarTiposProcesso(t.currentPage)}}},[t._v(" Excluir ")])],1)]}}])})],1),s("div",{staticClass:"card-footer m-0 px-1 pt-1"},[s("div",{staticClass:"col-12 m-0 px-1 pt-1"},[s("b-pagination",{directives:[{name:"show",rawName:"v-show",value:t.totalRows,expression:"totalRows"}],attrs:{pills:"",align:"right",size:"sm","total-rows":t.totalRows,"per-page":t.perPage},on:{change:t.listarTiposProcesso},model:{value:t.currentPage,callback:function(o){t.currentPage=o},expression:"currentPage"}})],1)]),s("div",[t._v("  "),s("b",[t._v("Total Registros:")]),t._v(" "+t._s(t.totalRows))])]),s("b-modal",{attrs:{id:"modal-cadastro-tipoprocesso",centered:"",title:"Cadastro de Tipo de Processo","hide-footer":""}},[s("ModalCadastroTipoProcesso",{on:{listarTiposProcesso:function(o){return t.listarTiposProcesso(t.currentPage)}},scopedSlots:t._u([{key:"buttons",fn:function(){return[s("b-button",{staticClass:"bordered",on:{click:function(o){return t.$bvModal.hide("modal-cadastro-tipoprocesso")}}},[t._v("Fechar")])]},proxy:!0}])})],1),s("b-modal",{attrs:{id:"modal-editar-tipoprocesso",centered:"",title:"Editar Tipo de Processo","hide-footer":""}},[s("ModalCadastroTipoProcesso",{attrs:{tipo:"editar",id:t.idTipoProcesso},on:{listarTiposProcesso:function(o){return t.listarTiposProcesso(t.currentPage)}},scopedSlots:t._u([{key:"buttons",fn:function(){return[s("b-button",{staticClass:"bordered",on:{click:function(o){return t.$bvModal.hide("modal-editar-tipoprocesso")}}},[t._v("Fechar")])]},proxy:!0}])})],1),s("b-modal",{attrs:{id:"modal-visualizar-tipoprocesso",centered:"",title:"Visualizar Tipo de Processo","hide-footer":""}},[s("ModalCadastroTipoProcesso",{attrs:{tipo:"visualizar",id:t.idTipoProcesso},on:{listarTiposProcesso:function(o){return t.listarTiposProcesso(t.currentPage)}},scopedSlots:t._u([{key:"buttons",fn:function(){return[s("b-button",{staticClass:"bordered",on:{click:function(o){return t.$bvModal.hide("modal-visualizar-tipoprocesso")}}},[t._v("Fechar")])]},proxy:!0}])})],1),s("ModalExcluir",{attrs:{pergunta:"o tipo de processo "+t.tipoProcessoModal},scopedSlots:t._u([{key:"buttons",fn:function(){return[s("b-button",{staticClass:"bordered",attrs:{variant:"danger"},on:{click:function(o){return t.excluir(t.idTipoProcesso)}}},[t._v("Excluir")])]},proxy:!0}])})],1)},a=[function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",{staticClass:"col-10 mt-1",attrs:{align:"start"}},[s("div",{staticClass:"row position-relative"},[s("h5",[t._v("Tipos de Processo Cadastrados")])])])}],i=(s(8862),s(2222),s(1539),s(8935)),r=s(784),n=s(8161),c=[{key:"botaoAction",label:"Ações",sortable:!1},{key:"desc_tipoprocesso",label:"Tipo Processo",sortable:!0}],l=s(3126),d=s(6038),u=s(9728),p=s(4753),f=s(3403),m=function(){var t=this,o=t.$createElement,s=t._self._c||o;return s("div",[s("div",{staticClass:"col-12"},[s("b-form",{on:{submit:function(o){return o.preventDefault(),t.submit.apply(null,arguments)}}},[s("notifications",{attrs:{notifications:t.Notificacao}}),t.alert?s("div",[s("ReturnMessage",{attrs:{message:t.Message,fechaAlert:t.fechaAlert}})],1):t._e(),t.loading?s("div",[s("LoadingSpinner")],1):t._e(),s("div",{staticClass:"row"},[s("div",{staticClass:"col-10"},[s("b-form-group",{staticClass:"font"},[s("label",[t._v("Tipo de Processo: "),s("span",{staticClass:"text-danger"},[t._v("*")])]),s("b-form-input",{staticClass:"bordered margin-field",attrs:{type:"text",disabled:t.disabledAll,required:""},model:{value:t.form.desc_tipoprocesso,callback:function(o){t.$set(t.form,"desc_tipoprocesso",o)},expression:"form.desc_tipoprocesso"}})],1)],1)]),s("div",{staticClass:"py-2 mt-10",attrs:{align:"right"}},[t._t("buttons"),t.disabledAll?t._e():s("b-button",{staticClass:"bordered ml-2",attrs:{type:"submit",variant:"success"}},[t._v("Salvar")])],2)],1)],1)])},h=[],b=s(7054),g=s(3248),v=i["default"].extend({directives:{mask:n.mask},components:{HeaderPage:r.Z,BIconSearch:b.Lln,BIconJournalPlus:b.Wf7,BIconPlusCircle:b.HON,BIconInfoCircle:b.gjx,Notifications:u.Z,ReturnMessage:p.Z,LoadingSpinner:f.Z,DetalhesProcesso:g.Z},props:["id","tipo"],data:function(){return{disabledAll:!1,show:!1,isLoading:!0,Notificacao:[],Message:[],loading:!1,alert:!1,form:{}}},mounted:function(){this.isLoading=!1,"editar"==this.tipo&&this.carregarDados(),"visualizar"==this.tipo&&(this.carregarDados(),this.disabledAll=!0)},methods:{submit:function(){var t=this,o=this.id?"put":"post",s="tipos-processo";this.loading=!0,this.validarCampos()?(console.log("JSON: ",JSON.stringify(this.form)),d.Z.salvar(s,this.form,o,this.form.id_tipoprocesso).then((function(s){"put"==o?t.adicionarAlert("success","Atualização realizada com sucesso!"):t.adicionarAlert("success","Cadastro realizado com sucesso!")})).catch((function(o){"Network Error"===o.message?t.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):o&&o.response&&o.response.data&&o.response.data.message?t.adicionarAlert("alert",o.response.data.message):t.adicionarAlert("alert","Houve um erro ao salvar. Verifique o formulário e tente novamente!")})).finally((function(){t.loading=!1}))):this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!")},carregarDados:function(){var t=this;this.loading=!0,d.Z.get("tipos-processo/id",this.id).then((function(o){t.form=o.data})).catch((function(o){t.adicionarAlert("alert","Houve um erro ao carregar os dados. Tente novamente!")})).finally((function(){t.loading=!1}))},validarCampos:function(){var t=this;return this.form.desc_tipoprocesso||this.adicionarNotificacao("danger","Campo Tipo de Processo é obrigatório!"),!(this.Notificacao.length>0)||(this.loading=!1,window.scrollTo(0,0),this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!"),setTimeout((function(){t.Notificacao=[]}),1e4),!1)},adicionarAlert:function(t,o){this.Message=[],this.Message.push({type:t,message:o}),this.alert=!0},adicionarNotificacao:function(t,o){this.Notificacao.push({type:t,message:o})},fechaAlert:function(){this.alert=!1,"success"==this.Message[0].type&&(this.$bvModal.hide("modal-cadastro-tipoprocesso"),this.$bvModal.hide("modal-editar-tipoprocesso"),this.$emit("listarTiposProcesso"))}}}),P=v,C=s(1001),x=(0,C.Z)(P,m,h,!1,null,null,null),_=x.exports,T=s(9143),k=i["default"].extend({directives:{mask:n.mask},components:{HeaderPage:r.Z,Notifications:u.Z,ReturnMessage:p.Z,LoadingSpinner:f.Z,ModalCadastroTipoProcesso:_,ModalExcluir:T.Z},mixins:[l.Z],data:function(){return{idTipoProcesso:null,tipoProcessoModal:"",rows:100,currentPage:1,totalRows:1,perPage:5,pageOptions:[5,10,15,{value:100,text:"Show a lot"}],busca:"",fields:c,stickyHeader:!0,noCollapse:!0,items:[],Notificacao:[],Message:[],loading:!1,alert:!1}},mounted:function(){this.listarTiposProcesso(this.currentPage)},methods:{abrirModal:function(t,o,s){this.idTipoProcesso=o,this.tipoProcessoModal=s,this.$bvModal.show(t)},editarTipoProcesso:function(t){this.idTipoProcesso=t,this.$bvModal.show("modal-editar-tipoprocesso")},visualizarTipoProcesso:function(t){this.idTipoProcesso=t,this.$bvModal.show("modal-visualizar-tipoprocesso")},search:function(){var t=this;console.log(JSON.stringify(this.busca)),this.busca?d.Z.get("tipos-processo","?currentPage=".concat(this.currentPage,"&search=").concat(this.busca)).then((function(o){t.perPage=o.data.perPage,t.items=o.data.data,t.totalRows=o.data.total})).catch((function(o){t.adicionarAlert("alert","Ocorreu um erro ao realizar a pesquisa!")})):this.listarTiposProcesso(this.currentPage)},listarTiposProcesso:function(t){var o=this;this.loading=!0,d.Z.get("tipos-processo","?currentPage=".concat(t)).then((function(t){o.items=t.data.data,o.perPage=t.data.perPage,o.totalRows=t.data.total})).catch((function(t){"Network Error"===t.message?o.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):t&&t.response&&t.response.data&&t.response.data.message?o.adicionarAlert("alert",t.response.data.message):o.adicionarAlert("alert","Houve um erro. Não foi possível carregar a listagem!")})).finally((function(){o.loading=!1}))},excluir:function(t,o){var s=this;this.$bvModal.hide("modal-excluir"),d.Z["delete"]("tipos-processo",t).then((function(t){s.loading=!0,s.adicionarAlert("success","Exclusão realizada com sucesso!"),s.listarTiposProcesso(s.currentPage)})).catch((function(t){s.adicionarAlert("alert","Ocorreu um erro ao excluir registro!")})).finally((function(){s.loading=!1}))},adicionarAlert:function(t,o){this.Message=[],this.Message.push({type:t,message:o}),this.alert=!0},adicionarNotificacao:function(t,o){this.Notificacao.push({type:t,message:o})},fechaAlert:function(){this.alert=!1}}}),y=k,M=(0,C.Z)(y,e,a,!1,null,null,null),w=M.exports}}]);
//# sourceMappingURL=309-legacy.0d336d27.js.map