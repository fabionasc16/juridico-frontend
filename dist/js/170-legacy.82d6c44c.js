"use strict";(self["webpackChunkjuridico_frontend"]=self["webpackChunkjuridico_frontend"]||[]).push([[170],{9933:function(a,t,o){o.r(t),o.d(t,{default:function(){return w}});var e=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",{staticClass:"container fluid"},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-12",staticStyle:{"margin-top":"20px"}},[o("b-form-group",{staticClass:"titulo m-0",attrs:{label:"Consulta de Órgão Demandante","label-size":"lg"}},[o("hr")])],1)]),o("notifications",{attrs:{notifications:a.Notificacao}}),a.alert?o("div",[o("ReturnMessage",{attrs:{message:a.Message,fechaAlert:a.fechaAlert}})],1):a._e(),a.loading?o("div",[o("LoadingSpinner")],1):a._e(),o("b-form",{staticClass:"mb-5",on:{submit:function(t){return t.preventDefault(),a.submit.apply(null,arguments)}}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-4"},[o("b-form-group",{staticClass:"font",attrs:{label:"Nome:"}},[o("b-form-input",{attrs:{placeholder:"Digite Nome do Órgão Demandante",type:"text"},model:{value:a.form.orgaoDemandante,callback:function(t){a.$set(a.form,"orgaoDemandante",t)},expression:"form.orgaoDemandante"}})],1)],1),o("div",{staticClass:"col-2 justify-content-center"},[o("b-form-group",{staticClass:"font text-white",attrs:{label:"Consultar"}},[o("b-button",{staticClass:"h2",attrs:{type:"submit"}},[o("b-icon-search",{directives:[{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Consultar",expression:"'Consultar'",modifiers:{hover:!0,topleft:!0}}]})],1)],1)],1)])]),o("div",{staticClass:"card p-0 m-0"},[o("div",{staticClass:"card-header",attrs:{align:"right"}},[o("div",{staticClass:"row"},[o("div",{staticClass:"col-1 text-blue h2 p0m0",attrs:{align:"center",label:"Responsáveis Cadastrados"}},[o("b-icon-journal-text")],1),a._m(0),o("div",{staticClass:"col-1 position-relative",attrs:{align:"center"}},[o("b-form-group",{staticClass:"btn text-primary position-absolute top-50 start-50 translate-middle",attrs:{label:""}},[o("div",{staticClass:"h3"},[o("b-icon-plus-circle",{directives:[{name:"b-modal",rawName:"v-b-modal.modal-cadastro-orgao",modifiers:{"modal-cadastro-orgao":!0}},{name:"b-tooltip",rawName:"v-b-tooltip.hover.topleft",value:"Adicionar Órgão",expression:"'Adicionar Órgão'",modifiers:{hover:!0,topleft:!0}}]})],1)])],1)])]),o("div",[o("b-table-lite",{staticClass:"m-0",attrs:{small:"",striped:"",hover:"","head-variant":"dark","current-page":a.currentPage,"per-page":a.perPage,"no-border-collapse":a.noCollapse,items:a.items,fields:a.fields},scopedSlots:a._u([{key:"cell(botaoAction)",fn:function(t){return[o("b-dropdown",{staticClass:"p0m0",attrs:{variant:"dark",size:"sm"},scopedSlots:a._u([{key:"button-content",fn:function(){return[a._v(" ≡"),o("span",{staticClass:"sr-only"})]},proxy:!0}],null,!0)},[o("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(o){return a.editarOrgao(t.item.id_orgao)}}},[a._v(" Editar ")]),o("b-list-group-item",{staticClass:"btn-light btn-outline-dark m-0 p-1",attrs:{block:""},on:{click:function(o){return a.visualizarOrgao(t.item.id_orgao)}}},[a._v(" Visualizar ")]),o("b-list-group-item",{staticClass:"btn-light text-dark btn-outline-danger m-0 p-1",attrs:{block:""},on:{click:function(o){return a.excluir(t.item.id_orgao,t.item.orgao_demandante)}}},[a._v(" Excluir ")])],1)]}}])})],1),o("div",{staticClass:"card-footer m-0 px-1 pt-1"},[o("div",{staticClass:"col-12 m-0 px-1 pt-1"},[o("b-pagination",{directives:[{name:"show",rawName:"v-show",value:a.totalRows,expression:"totalRows"}],attrs:{pills:"",align:"right",size:"sm","total-rows":a.totalRows,"per-page":a.perPage},on:{change:a.listarOrgaos},model:{value:a.currentPage,callback:function(t){a.currentPage=t},expression:"currentPage"}})],1)]),o("div",[a._v("  "),o("b",[a._v("Total Registros:")]),a._v(" "+a._s(a.totalRows))])]),o("b-modal",{attrs:{id:"modal-cadastro-orgao",size:"lg",centered:"",title:"Cadastro do Órgão Demandante","hide-footer":""}},[o("ModalCadastroOrgao",{attrs:{tipo:"cadastrar"},on:{listarOrgaos:function(t){return a.listarOrgaos(a.currentPage)}},scopedSlots:a._u([{key:"buttons",fn:function(){return[o("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-cadastro-orgao")}}},[a._v("Fechar")])]},proxy:!0}])})],1),o("b-modal",{attrs:{id:"modal-editar-orgao",size:"lg",centered:"",title:"Editar Órgão Demandante","hide-footer":""}},[o("ModalCadastroOrgao",{attrs:{tipo:"editar",id:a.idOrgao},on:{listarOrgaos:function(t){return a.listarOrgaos(a.currentPage)}},scopedSlots:a._u([{key:"buttons",fn:function(){return[o("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-editar-orgao")}}},[a._v("Fechar")])]},proxy:!0}])})],1),o("b-modal",{attrs:{id:"modal-visualizar-orgao",size:"lg",centered:"",title:"Visualizar Órgão Demandante","hide-footer":""}},[o("ModalCadastroOrgao",{attrs:{tipo:"visualizar",id:a.idOrgao},scopedSlots:a._u([{key:"buttons",fn:function(){return[o("b-button",{staticClass:"bordered",on:{click:function(t){return a.$bvModal.hide("modal-visualizar-orgao")}}},[a._v("Fechar")])]},proxy:!0}])})],1)],1)},r=[function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",{staticClass:"col-10 mt-1",attrs:{align:"start"}},[o("div",{staticClass:"row position-relative"},[o("h5",[a._v("Órgãos Cadastrados")])])])}],s=(o(8862),o(1539),o(8935)),i=o(784),n=function(){var a=this,t=a.$createElement,o=a._self._c||t;return o("div",[o("div",{staticClass:"card"},[o("div",{staticClass:"col-12"},[o("notifications",{attrs:{notifications:a.Notificacao}}),a.alert?o("div",[o("ReturnMessage",{attrs:{message:a.Message,fechaAlert:a.fechaAlert}})],1):a._e(),a.loading?o("div",[o("LoadingSpinner")],1):a._e(),o("b-form",{on:{submit:function(t){return t.preventDefault(),a.submit.apply(null,arguments)}}},[o("div",{staticClass:"row mt-3"},[o("b-form-group",{staticClass:"font col-sm-10 col-md-10 col-lg-10"},[o("label",[a._v("Nome"),o("span",{staticClass:"text-danger"},[a._v("*")]),a._v(":")]),o("b-form-input",{attrs:{placeholder:"Digite o Nome do Órgão",type:"text",autofocus:"",disabled:a.disabledAll,required:""},model:{value:a.form.orgaoDemandante,callback:function(t){a.$set(a.form,"orgaoDemandante",t)},expression:"form.orgaoDemandante"}})],1)],1),o("div",{staticClass:"row"},[o("b-form-group",{staticClass:"font col-sm-5 col-md-5 col-lg-5"},[o("label",[a._v("Sigla"),o("span",{staticClass:"text-danger"},[a._v("*")]),a._v(":")]),o("b-form-input",{attrs:{type:"text",disabled:a.disabledAll,required:""},model:{value:a.form.siglaOrgao,callback:function(t){a.$set(a.form,"siglaOrgao",t)},expression:"form.siglaOrgao"}})],1),o("b-form-group",{staticClass:"font col-sm-5 col-md-5 col-lg-5"},[o("label",[a._v("Esfera"),o("span",{staticClass:"text-danger"},[a._v("*")]),a._v(":")]),o("b-form-input",{attrs:{type:"text",disabled:a.disabledAll,required:""},model:{value:a.form.esferaOrgao,callback:function(t){a.$set(a.form,"esferaOrgao",t)},expression:"form.esferaOrgao"}})],1)],1),o("div",{staticClass:"row"},[o("b-form-group",{staticClass:"font col-sm-6 col-md-6 col-lg-6"},[o("b-form-checkbox",{staticClass:"font col-sm-12 col-md-12 col-lg-12",attrs:{switch:"",disabled:a.disabledAll},model:{value:a.form.orgaoControle,callback:function(t){a.$set(a.form,"orgaoControle",t)},expression:"form.orgaoControle"}},[a._v("Órgão de Controle? ")])],1)],1),o("div",{staticClass:"row"},[o("b-form-group",{staticClass:"font col-sm-6 col-md-6 col-lg-6"},[o("b-form-checkbox",{staticClass:"font col-sm-12 col-md-12 col-lg-12",attrs:{switch:"",disabled:a.disabledAll},model:{value:a.form.orgaoJustica,callback:function(t){a.$set(a.form,"orgaoJustica",t)},expression:"form.orgaoJustica"}},[a._v("Órgão de Justiça? ")])],1)],1),o("div",{staticClass:"py-2 mt-10",attrs:{align:"right"}},[a._t("buttons"),a.disabledAll?a._e():o("b-button",{staticClass:"bordered ml-2",attrs:{type:"submit",variant:"success"}},[a._v("Salvar")])],2)])],1)])])},l=[],c=o(8161),d=o(9728),u=o(7054),g=o(4753),f=o(6038),m=o(3403),p=o(355),h=s["default"].extend({directives:{mask:c.mask},mixins:[p.Z],components:{HeaderPage:i.Z,BIconSearch:u.Lln,BIconJournalPlus:u.Wf7,BIconPlusCircle:u.HON,BIconInfoCircle:u.gjx,Notifications:d.Z,ReturnMessage:g.Z,LoadingSpinner:m.Z},props:["id","tipo"],data:function(){return{disabledAll:!1,rows:100,currentPage:1,stickyHeader:!0,noCollapse:!0,show:!1,form:{},Notificacao:[],Message:[],loading:!1,alert:!1,isLoading:!1}},mounted:function(){this.isLoading=!1,"editar"==this.tipo&&this.carregarDados(),"visualizar"==this.tipo&&(this.carregarDados(),this.disabledAll=!0)},methods:{submit:function(){var a=this,t=this.id?"put":"post",o="orgaos-demandantes";this.validarCampos()?(console.log("JSON: ",JSON.stringify(this.form)),this.loading=!0,this.form.orgaoControle=this.form.orgaoControle?"S":"N",this.form.orgaoJustica=this.form.orgaoJustica?"S":"N",f.Z.salvar(o,this.form,t,this.form.idOrgao).then((function(o){"put"==t?a.adicionarAlert("success","Atualização realizada com sucesso!"):a.adicionarAlert("success","Cadastro realizado com sucesso!")})).catch((function(t){"Network Error"===t.message?a.adicionarAlert("alert","Sem conexão de rede. Verifique sua conexão!"):t&&t.response&&t.response.data&&t.response.data.message?a.adicionarAlert("alert",t.response.data.message):a.adicionarAlert("alert","Houve um erro ao salvar. Verifique o formulário e tente novamente!")})).finally((function(){a.loading=!1}))):this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!")},carregarDados:function(){var a=this;this.loading=!0,f.Z.get("orgaos-demandantes/id",this.id).then((function(t){a.form.idOrgao=t.data.id_orgao,a.form.orgaoDemandante=t.data.orgao_demandante,a.form.siglaOrgao=t.data.sigla_orgao,a.form.esferaOrgao=t.data.esfera_orgao,a.form.orgaoControle="S"==t.data.orgao_controle,a.form.orgaoJustica="S"==t.data.orgao_justica})).catch((function(t){a.adicionarAlert("alert","Houve um erro ao carregar os dados. Tente novamente!")})).finally((function(){a.loading=!1}))},validarCampos:function(){var a=this;return this.Notificacao=[],this.form.orgaoDemandante||this.adicionarNotificacao("danger","Campo Nome é obrigatório!"),this.form.siglaOrgao||this.adicionarNotificacao("danger","Campo Sigla é obrigatório!"),this.form.esferaOrgao||this.adicionarNotificacao("danger","Campo Esfera é obrigatório!"),!(this.Notificacao.length>0)||(window.scrollTo(0,0),this.adicionarAlert("alert","Realize as validações exibidas no topo desta página!"),setTimeout((function(){a.Notificacao=[]}),5e3),!1)},adicionarAlert:function(a,t){this.Message=[],this.Message.push({type:a,message:t}),this.alert=!0},adicionarNotificacao:function(a,t){this.Notificacao.push({type:a,message:t})},fechaAlert:function(){this.alert=!1,"success"==this.Message[0].type&&(this.$bvModal.hide("modal-cadastro-orgao"),this.$bvModal.hide("modal-editar-orgao"),this.$emit("listarOrgaos"))}}}),b=h,v=o(1001),C=(0,v.Z)(b,n,l,!1,null,null,null),_=C.exports,x=[{key:"botaoAction",label:"Ações",sortable:!1},{key:"orgao_demandante",label:"Órgão Demandante",sortable:!0},{key:"esfera_orgao",label:"Esfera",sortable:!0}],k=s["default"].extend({directives:{mask:c.mask},components:{HeaderPage:i.Z,BIconSearch:u.Lln,BIconJournalText:u.kEx,BIconPlusCircle:u.HON,BIconInfoCircle:u.gjx,Notifications:d.Z,ModalCadastroOrgao:_,ReturnMessage:g.Z,LoadingSpinner:m.Z},data:function(){return{idOrgao:null,rows:100,currentPage:1,totalRows:null,perPage:10,items:[],pageOptions:[5,10,15,{value:100,text:"Show a lot"}],form:{},fields:x,stickyHeader:!0,noCollapse:!0,Notificacao:[],Message:[],loading:!1,alert:!1}},mounted:function(){this.listarOrgaos(this.currentPage)},methods:{submit:function(){alert("pesquisar"),console.log(JSON.stringify(this.form))},editarOrgao:function(a){this.idOrgao=a,this.$bvModal.show("modal-editar-orgao")},visualizarOrgao:function(a){this.idOrgao=a,this.$bvModal.show("modal-visualizar-orgao")},listarOrgaos:function(a){var t=this;this.loading=!0,f.Z.get("orgaos-demandantes","?currentPage=".concat(a)).then((function(a){t.items=a.data.data,t.perPage=a.data.perPage,t.totalRows=a.data.total})).catch((function(a){return console.log(a),t.adicionarNotificacao("danger","Não foi possível carregar a listagem!"),!1})).finally((function(){t.loading=!1}))},voltar:function(){this.$router.push("/")},excluir:function(a,t){var o=this,e="Deseja realmente excluir órgão demandante "+t+"?";confirm(e)&&f.Z["delete"]("orgaos-demandantes",a).then((function(a){o.loading=!0,o.adicionarAlert("success","Exclusão realizada com sucesso!"),o.listarOrgaos(o.currentPage)})).catch((function(a){o.adicionarAlert("alert","Ocorreu um erro ao excluir registro!")})).finally((function(){o.loading=!1}))},adicionarAlert:function(a,t){this.Message=[],this.Message.push({type:a,message:t}),this.alert=!0},adicionarNotificacao:function(a,t){this.Notificacao.push({type:a,message:t})},fechaAlert:function(){this.alert=!1}}}),O=k,y=(0,v.Z)(O,e,r,!1,null,null,null),w=y.exports},355:function(a,t,o){o(4916),o(5306);var e={methods:{validarCpf:function(a){if("string"!=typeof a)return!1;if(a=a.replace(/[^\d]+/g,""),""==a)return!1;if(11!=a.length||"00000000000"==a||"11111111111"==a||"22222222222"==a||"33333333333"==a||"44444444444"==a||"55555555555"==a||"66666666666"==a||"77777777777"==a||"88888888888"==a||"99999999999"==a)return!1;for(var t=0,o=0;o<9;o++)t+=parseInt(a.charAt(o))*(10-o);var e=11-t%11;if(10!=e&&11!=e||(e=0),e!=parseInt(a.charAt(9)))return!1;t=0;for(var r=0;r<10;r++)t+=parseInt(a.charAt(r))*(11-r);return e=11-t%11,10!=e&&11!=e||(e=0),e==parseInt(a.charAt(10))}}};t["Z"]=e}}]);
//# sourceMappingURL=170-legacy.82d6c44c.js.map